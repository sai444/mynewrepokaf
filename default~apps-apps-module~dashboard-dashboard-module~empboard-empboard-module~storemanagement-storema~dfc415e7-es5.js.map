{"version":3,"sources":["webpack:///node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","webpack:///node_modules/@fullcalendar/core/main.esm.js","webpack:///node_modules/fast-deep-equal/index.js"],"names":["hasOwnProperty","Object","prototype","deepCopy","input","Array","isArray","map","Date","valueOf","mapHash","func","output","key","call","INPUT_NAMES","INPUT_IS_DEEP","header","footer","events","eventSources","resources","OUTPUT_NAMES","FullCalendarComponent","element","dirtyProps","deepCopies","windowResize","dateClick","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","eventPositioned","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","eventResize","drop","eventReceive","eventLeave","_destroyed","navLinkDayClick","navLinkWeekClick","viewSkeletonRender","viewSkeletonDestroy","datesRender","datesDestroy","dayRender","eventRender","eventDestroy","resourceRender","calendar","nativeElement","buildOptions","render","options","forEach","outputName","emit","inputName","inputVal","undefined","deepChangeDetection","copy","changes","currentValue","keys","length","mutateOptions","destroy","ɵfac","FullCalendarComponent_Factory","t","ɵcmp","type","selectors","inputs","customButtons","buttonIcons","themeSystem","bootstrapFontAwesome","firstDay","dir","weekends","hiddenDays","fixedWeekCount","weekNumbers","weekNumbersWithinDays","weekNumberCalculation","businessHours","showNonCurrentDates","height","contentHeight","aspectRatio","handleWindowResize","windowResizeDelay","eventLimit","eventLimitClick","timeZone","now","defaultView","allDaySlot","allDayText","slotDuration","slotLabelFormat","slotLabelInterval","snapDuration","scrollTime","minTime","maxTime","slotEventOverlap","listDayFormat","listDayAltFormat","noEventsMessage","defaultDate","nowIndicator","visibleRange","validRange","dateIncrement","dateAlignment","duration","dayCount","locales","locale","eventTimeFormat","columnHeader","columnHeaderFormat","columnHeaderText","columnHeaderHtml","titleFormat","weekLabel","displayEventTime","displayEventEnd","eventLimitText","dayPopoverFormat","navLinks","selectable","selectMirror","unselectAuto","unselectCancel","defaultAllDayEventDuration","defaultTimedEventDuration","cmdFormatter","defaultRangeSeparator","selectConstraint","selectOverlap","selectAllow","selectMinDistance","editable","eventStartEditable","eventDurationEditable","eventConstraint","eventOverlap","eventAllow","eventClassName","eventClassNames","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","allDayDefault","startParam","endParam","lazyFetching","nextDayThreshold","eventOrder","rerenderDelay","dragRevertDuration","dragScroll","longPressDelay","eventLongPressDelay","droppable","dropAccept","eventDataTransform","allDayMaintainDuration","eventResizableFromStart","timeGridEventMinHeight","allDayHtml","eventDragMinDistance","eventSourceFailure","eventSourceSuccess","forceEventDuration","progressiveEventRendering","selectLongPressDelay","timeZoneParam","titleRangeSeparator","buttonText","views","plugins","schedulerLicenseKey","resourceLabelText","resourceOrder","filterResourcesWithEvents","resourceText","resourceGroupField","resourceGroupText","resourceAreaWidth","resourceColumns","resourcesInitiallyExpanded","slotWidth","datesAboveResources","googleCalendarApiKey","refetchResourcesOnNavigate","eventResourceEditable","outputs","features","decls","vars","template","FullCalendarComponent_Template","rf","ctx","encapsulation","ctorParameters","Boolean","String","Number","FullCalendarModule","ɵmod","ɵinj","factory","FullCalendarModule_Factory","imports","args","selector","ngJitMode","declarations","exports","elementPropHash","className","colSpan","rowSpan","containerTagHash","createElement","tagName","attrs","content","el","document","attrName","applyStyle","setAttribute","innerHTML","appendToElement","htmlToElement","html","trim","container","computeContainerTag","firstChild","htmlToElements","slice","htmlToNodeList","childNodes","substr","normalizeContent","i","appendChild","prependToElement","parent","newEls","afterEl","insertBefore","insertAfterElement","refEl","nextSibling","parentNode","els","Node","removeElement","removeChild","matchesMethod","Element","matches","matchesSelector","msMatchesSelector","closestMethod","closest","documentElement","contains","elementMatches","parentElement","nodeType","elementClosest","findElements","containers","HTMLElement","allMatches","querySelectorAll","j","push","findChildren","parents","children","childNode","forceClassName","bool","classList","add","remove","PIXEL_PROP_RE","props","propName","applyStyleProp","name","val","style","test","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","res","Math","max","min","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","position","border","padding","overflow","direction","body","innerEl","getBoundingClientRect","sanitizeScrollbarWidth","width","round","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","parseInt","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","scrollbarLeftRight","offsetWidth","clientWidth","scrollbarBottom","offsetHeight","clientHeight","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeViewportRect","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","getClippingParents","overflowY","overflowX","computeClippingRect","concat","reduce","rect0","preventDefault","ev","listenBySelector","eventType","handler","realHandler","matchedChild","target","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","realOnMouseLeave_1","transitionEventNames","whenTransitionDone","callback","realCallback","eventName","DAY_IDS","addWeeks","m","n","a","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","UTC","apply","isValidDate","isNaN","INTERNAL_UNITS","PARSE_RE","createDuration","unit","_a","parseString","normalizeObject","s","exec","sign","obj","month","day","getWeeksFromInput","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","durationsEqual","d0","d1","isSingleDay","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","isInt","greatestDurationDenominator","dontReturnWeeks","value","compensateScroll","rowEl","scrollbarWidths","marginLeft","marginRight","uncompensateScroll","disableCursor","enableCursor","distributeHeight","availableHeight","shouldRedistribute","minOffset1","minOffset2","flexEls","flexOffsets","flexHeights","usedHeight","undistributeHeight","minOffset","naturalHeight","naturalOffset","newHeight","matchCellWidths","maxInnerWidth","innerWidth_1","subtractInnerElHeight","reflowStyleProps","diff","resetStyleProps","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","split","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","b","localeCompare","capitaliseFirstLetter","str","toUpperCase","padStart","len","compareNumbers","applyAll","functions","thisObj","ret","firstDefined","_i","arguments","debounce","wait","timeout","context","timestamp","result","later","last","setTimeout","refineProps","rawProps","processors","defaults","leftoverProps","refined","processor","Function","computeAlignedDayRange","timedRange","dayCnt","start","end","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","range","diffDates","date0","date1","dateEnv","largeUnit","diffWholeYears","diffWholeMonths","extendStatics","setPrototypeOf","__proto__","p","__extends","__","constructor","create","__assign","assign","parseRecurring","eventInput","recurringTypes","leftovers","localLeftovers","parsed","parse","allDay","allDayGuess","typeData","typeId","expandRecurringRanges","eventDef","framingRange","typeDef","recurringDef","markers","expand","subtract","mergeProps","propObjs","complexProps","dest","complexObjs","unshift","filterHash","hash","filtered","newHash","arrayToHash","a_1","item","hashValuesToArray","isPropsEqual","parseEvents","rawEvents","sourceId","allowOpenRange","eventStore","createEmptyEventStore","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","defs","def","defId","instance","instances","instanceId","expandRecurring","starts","pluginSystem","hooks","starts_1","createEventInstance","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","transformRawEvents","eventSource","calEachTransform","opt","sourceEachTransform","transformEachRawEvent","refinedEvents","rawEvents_2","refinedEvent","mergeEventStores","store0","store1","filterFunc","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","memoize","workerFunc","memoizeOutput","equalityFunc","cachedRes","newRes","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","name_1","buildFormattingFunc","format","formatRange","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","before","after","getLargestUnit","standardDatePropCnt","formatTimeZoneOffset","timeZoneOffset","formatWeekNumber","computeWeekNumber","buildNativeFormattingFunc","sanitizeSettings","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","replace","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","isRtl","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","name_2","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","CmdFormatter","cmdStr","createVerboseFormattingArg","FuncFormatter","createFormatter","defaultSeparator","buildIsoString","stripZeroTime","toISOString","formatIsoTimeString","doIso","abs","mins","startInfo","expandZonedMarker","endInfo","localeCodes","dateInfo","markerToArray","EventSourceApi","internalEventSource","dispatch","refetch","sourceIds","defineProperty","get","publicId","enumerable","configurable","meta","url","EventApi","_calendar","_def","_instance","setProp","_b","DATE_PROPS","NON_DATE_PROPS","mutate","standardProps","UNSCOPED_EVENT_UI_PROPS","ui","backgroundColor","borderColor","startEditable","durationEditable","setExtendedProp","extendedProps","setStart","startInput","instanceRange","startDelta","granularity","maintainDuration","datesDelta","setEnd","endInput","endDelta","hasEnd","setDates","moveStart","deltaInput","delta","moveEnd","moveDates","setAllDay","formatInput","formatter","forcedStartTzo","forcedEndTzo","forcedTzo","mutation","fromApi","state","toDate","title","rendering","constraints","overlap","allows","textColor","classNames","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","filterSegsViaEls","segs","isMirror","view","hasPublicHandlers","filter","seg","custom","publiclyTrigger","event","eventRange","segs_1","setElSeg","fcSeg","getElSeg","eventDefs","compileEventUi","uis","combineEventUis","triggerRenderedSegs","isMirrors","segs_2","publiclyTriggerAfterSizing","eventSourceLoadingLevel","afterSizingTriggers","_eventsPositioned","triggerWillRemoveSegs","segs_3","trigger","segs_4","computeEventDraggable","eventUi","transformers","isDraggableTransformers","transformers_1","transformer","computeEventStartResizable","computeEventEndResizable","applyMutationToEventStore","eventConfigBase","eventConfigs","applyMutationToEventDef","eventDefMutationAppliers","applyMutationToEventInstance","eventConfig","appliers","appliers_1","applier","eventInstance","forceAllDay","clearEnd","getDefaultEventEnd","reduceEventStore","action","dateProfile","receiveRawEvents","fetchId","fetchRange","addEvent","activeRange","rezoneDates","oldDateEnv","applyMutationToRelated","excludeInstances","excludeEventsBySourceId","latestFetchId","subset","expandRange","newDateEnv","canComputeOffset","relevant","removals","isInteractionValid","interaction","isNewPropsValid","eventDrag","isDateSelectionValid","dateSelection","newProps","eventSelection","isPropsValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","mutatedEvents","subjectDefs","subjectInstances","subjectConfigs","isEvent","selectionConfig","otherEventStore","affectedEvents","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","overlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","eventApi","buildDateSpanApi","relevantEventStore","relevantDefs","relevantInstances","selection","selectionRange","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","constraint","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","normalizeConstraint","htmlEscape","cssToStr","cssProps","statements","attrsToStr","parseClassName","raw","allow","color","processUnscopedUiProps","processScopedUiProps","prefix","rawScoped","rawUnscoped","wasFound","scopedKey","EMPTY_EVENT_UI","combineTwoEventUis","item0","item1","id","uid","computeIsAllDayDefault","leftovers0","recurringRes","parseEventDef","leftovers1","singleRes","parseSingle","pluckNonDateProps","eventDefParsers","eventDefParser","newLeftovers","freeze","pluckDateProps","startMeta","startMarker","endMeta","endMarker","createMarkerMeta","isTimeUnspecified","preLeftovers","source","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","memoizeRendering","renderFunc","unrenderFunc","dependencies","dependents","thisContext","prevArgs","unrender","dependents_1","dependent","dependencies_1","dependency","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","_this","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","info","buildEventUiForKey","keyInfo","buildEventUi","dateSpan","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","splitStates","affectedStores_1","mutatedKeysByDefId","mutatedStores_1","populate","origSeg","allUi","eventUiForKey","baseParts","stuff","buildGotoAnchorHtml","allOptions","gotoOptions","innerHtml","forceOff","finalOptions","formatIso","omitTime","JSON","stringify","getAllDayHtml","getDayClasses","noThemeHighlight","theme","classes","todayStart","todayEnd","monthMode","currentRange","getNow","getClass","unpromisify","success","failure","isResolved","wrappedSuccess","wrappedFailure","then","Mixin","mixInto","destClass","mixIntoObj","destObj","getOwnPropertyNames","mixOver","EmitterMixin","_super","on","addToHash","_handlers","one","_oneHandlers","off","removeFromHash","triggerWith","hasHandlers","PositionCache","originEl","isHorizontal","isVertical","build","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","ScrollComponent","applyOverflow","clear","setHeight","lockOverflow","getScrollbarWidths","Theme","calendarOptions","processIconOverride","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","getIconClass","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","guid","ComponentContext","eventOrderSpecs","extend","Component","everRendered","addEqualityFuncs","newFuncs","equalityFuncs","receiveProps","receiveContext","recycleProps","anyChanges","comboProps","beforeUpdate","afterUpdate","oldContext","firstContext","oldProps","DateComponent","buildPositionCaches","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isPopover","isInPopover","isValidDateDownEl","segEl","fgSegSelector","bgSegSelector","uid$1","createPlugin","deps","reducers","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","viewPropsTransformers","externalDefTransforms","eventResizeJoinTransforms","viewContainerModifiers","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","PluginSystem","addedHash","plugin","dep","combineHooks","hooks0","hooks1","eventSourceDef","ignoreRange","parseMeta","fetch","arg","ArrayEventSourcePlugin","eventSourceDef$1","bind","startStr","endStr","FuncEventSourcePlugin","requestJson","method","params","successCallback","failureCallback","injectQueryStringParams","encodeParams","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","eventSourceDef$2","extraParams","requestParams","buildRequestParams","errorMessage","message","JsonFeedEventSourcePlugin","customRequestParams","recurring","startRecur","endRecur","anyValid","clippedFramingRange","expandRanges","SimpleRecurrencePlugin","dowHash","dayMarker","instanceStarts","instanceStart","DefaultOptionChangeHandlers","deepEqual","handleEventSources","handlePlugins","unfoundSources","newInputs","inputs_1","inputFound","_raw","unfoundSources_1","unfoundSource","newInputs_1","newInput","addEventSource","addPluginInputs","config","globalDefaults","center","rtlDefaults","prev","next","prevYear","nextYear","complexOptions","mergeOptions","optionObjs","INTERNAL_PLUGINS","refinePluginDefs","pluginInputs","pluginInputs_1","pluginInput","globalName","console","warn","RAW_EN_LOCALE","code","today","list","parseRawLocales","explicitRawLocales","defaultCode","globalArray","globalObject","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","OptionsManager","overrides","dynamicOverrides","compute","updates","isDynamic","overrideHash","removals_1","localeDefaults","dirDefaults","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","DateEnv","settings","isNamedTimeZone","namedTimeZoneImpl","weekDow","weekDoy","weekNumberFunc","createNowMarker","timestampToMarker","getYear","addYears","addMonths","greatestWholeUnit","countDurationsBetween","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","SIMPLE_SOURCE_PROPS","uid$2","doesSourceNeedRange","sourceDefId","parseEventSource","parseEventSourceProps","isFetching","reduceEventSources","addSources","sources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","uid$3","eventSourceHash","sources_1","sourceHash","isSourceDirty","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","calSuccess","calSuccessRes","sourceSuccessRes","error","callFailure","DateProfileGenerator","viewSpec","initHiddenDays","buildPrev","currentDateProfile","currentDate","prevDate","currentRangeUnit","buildNext","nextDate","forceToValid","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","getRangeOption","durationUnit","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","usesMinMaxTime","alignment","dateIncrementInput","dateIncrementDuration","isHiddenDay","skipHiddenDays","computeRes","customAlignment","runningCount","fallback","otherArgs","isHiddenDayHash","Error","inc","isExclusive","isDateProfilesEqual","p0","p1","viewType","reduceViewType","reduceDateProfile","nextState","reduceCurrentDate","reduceDateSelection","reduceSelectedEvent","reduceEventDrag","reduceEventResize","computeLoadingLevel","loadingLevel","reducerFunc","currentViewType","newDateProfile","dateProfileGenerators","dateMarker","generator","newDate","currentSelection","currentInstanceId","eventInstanceId","currentDrag","newDrag","currentResize","newResize","cnt","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDatePointApi","dateStr","fabricateEventRange","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","superType","findViewNameBySubclass","superDef","viewSubclass","configs","superProto","getPrototypeOf","parseViewConfigs","parseViewConfig","VIEW_DEF_PROPS","buildViewSpecs","defaultInputs","optionsManager","viewDefs","buildViewSpec","durationInput","singleUnit","singleUnitOverrides","denom","queryButtonText","buttonTextMap","buttonTextKey","buttonTextOverride","buttonTextDefault","Toolbar","extraClassName","_renderLayout","renderLayout","unrenderLayout","_updateTitle","updateTitle","_updateActiveButton","updateActiveButton","_updateToday","updateToday","_updatePrev","updatePrev","_updateNext","updateNext","layout","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","viewsWithButtons","renderSection","buttonStr","viewSpecs","sectionEl","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","buttonGroupStr","groupChildren","isOnlyButtons","groupEl","buttonClick","buttonIcon","buttonInnerHtml","buttonClasses","buttonEl","buttonAriaAttr","click","text","changeView","buttonGroupClassName","toggleButtonEnabled","titleEl","innerText","disabled","CalendarComponent","elClassNames","renderSkeleton","_renderSkeleton","_unrenderSkeleton","renderToolbars","_renderToolbars","_unrenderToolbars","buildComponentContext","buildViewPropTransformers","computeTitle","freezeHeight","renderView","updateSize","thawHeight","updateElClassNames","contentEl","modifyViewContainer","savedScroll","queryScroll","removeElClassNames","headerLayout","footerLayout","dateProfileGenerator","todayInfo","prevInfo","nextInfo","toolbarProps","addScroll","viewProps","transform","isResize","isHeightAuto","computeHeightVars","viewHeight","updateNowIndicator","popScroll","heightInput","contentHeightInput","queryToolbarsHeight","parentEl","viewOptions","computeTitleFormat","theClasses","Interaction","component","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","EventClicking","handleSegClick","hasUrlContainer","querySelector","href","jsEvent","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","StandardTheme","widget","widgetHeader","widgetContent","buttonGroup","button","buttonActive","popoverHeader","popoverContent","headerRow","dayRow","listView","close","Calendar","buildComponentContext$1","buildDateEnv","buildTheme","buildEventUiSingleBase","_buildEventUiSingleBase","buildSelectionConfig","_buildSelectionConfig","buildEventUiBySource","buildEventUiBases","interactionsStore","actionQueue","isReducing","needsRerender","isRendering","renderingPauseDepth","buildDelayedRerender","isViewUpdated","isDatesUpdated","isEventsUpdated","handleOptions","hydrate","calendarInteractionClass","pluginDefs","pluginDefs_1","pluginDef","renderableEventStore","bindHandlers","executeRender","requestRerender","unbindHandlers","removeNavLinkListener","anchorEl","getAttribute","customAction","viewOpt","zoomTo","windowResizeProxy","buildInitialState","rawSources","singleRawSource","rawSources_1","rawSource","batchRendering","getInitialDate","oldState","shift","newState","delayedRerender","tryRerender","renderComponent","eventUiSingleBase","eventUiBySource","releaseAfterSizingTriggers","setOption","getOption","viewOpts","changeHandlers","normalUpdates","specialUpdates","isTimeZoneDirty","isSizeDirty","anyDifficultOptions","name_3","pluginHooks","availableRawLocales","dateProfileGeneratorClass","getAvailableLocaleCodes","rawOpts","eventEditable","optHandler","name_4","isValidViewType","dateOrRange","spec","getUnitViewSpec","viewTypes","defaultDateInput","gotoDate","zonedDateInput","incrementDate","formatDate","isHandlingWindowResize","registerInteractiveComponent","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","interactionClass","unregisterInteractiveComponent","listener","dateOrObj","endDate","selectionInput","triggerDateSelect","pev","triggerDateUnselect","origEvent","triggerDateClick","dayEl","sourceInput","sourceApi","getEventSourceById","getEventById","getEvents","eventApis","removeAllEvents","rerenderEvents","getEventSources","sourceApis","internalId","removeAllEventSources","refetchEvents","scrollToTime","timeInput","scrollToDuration","themeClass","View","renderDatesMem","renderDatesWrap","unrenderDatesWrap","renderBusinessHoursMem","renderBusinessHours","unrenderBusinessHours","renderDateSelectionMem","renderDateSelectionWrap","unrenderDateSelectionWrap","renderEventsMem","renderEvents","unrenderEvents","renderEventSelectionMem","renderEventSelectionWrap","unrenderEventSelectionWrap","renderEventDragMem","renderEventDragWrap","unrenderEventDragWrap","renderEventResizeMem","renderEventResizeWrap","unrenderEventResizeWrap","initialize","isAuto","updateBaseSize","renderDates","stopNowIndicator","unrenderDates","renderDateSelection","unrenderDateSelection","sliceEvents","renderEventSelection","unrenderEventSelection","renderEventDrag","unrenderEventDrag","renderEventResize","unrenderEventResize","startNowIndicator","update","delay","initialNowDate","getNowIndicatorUnit","initialNowQueriedMs","nowIndicatorTimeoutID","nowIndicatorIntervalID","setInterval","unrenderNowIndicator","renderNowIndicator","isNowIndicatorRendered","clearTimeout","clearInterval","isForced","queuedScroll","applyQueuedScroll","applyScroll","queryDateScroll","computeDateScroll","applyDateScroll","FgEventRenderer","renderSegs","mirrorInfo","rangeUpdated","renderSegEls","attachSegs","_segs","detachSegs","computeEventTimeFormat","computeDisplayEventTime","computeDisplayEventEnd","renderSegHtml","getSegClasses","isDraggable","isResizable","isDragging","isResizing","getTimeText","displayEnd","_getTimeText","getSkinCss","sortEventSegs","objs","buildSegCompareObj","c","_seg","computeSizes","force","computeSegSizes","assignSizes","assignSegSizes","hideByHash","visibility","showByHash","selectByInstanceId","unselectByInstanceId","FillRenderer","fillSegTag","dirtySizeFlags","containerElsByType","segsByType","getSegsByType","renderedSegs","containerEls","css","toLowerCase","NamedTimeZoneImpl","ElementDragging","emitter","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","dateInput","buildDateEnv$1","dateMeta","DRAG_META_PROPS","DRAG_META_DEFAULTS","parseDragMeta","computeFallbackHeaderFormat","datesRepDistinctDays","renderDateCell","colCnt","colHeadFormat","colspan","otherAttrs","isDateValid","DayHeader","dates","renderIntroHtml","dates_1","thead","DaySeries","indices","dayIndex","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTable","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","index","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","sourceSeg","eventRanges","eventRanges_1","sliceEventRange","isComponentAllDay","version","module","equal","RegExp","flags","toString"],"mappings":"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AAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAA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","file":"default~apps-apps-module~dashboard-dashboard-module~empboard-empboard-module~storemanagement-storema~dfc415e7-es5.js","sourcesContent":["import { __decorate, __metadata } from 'tslib';\nimport deepEqual from 'fast-deep-equal';\nimport { EventEmitter, ElementRef, Input, Output, Component, NgModule } from '@angular/core';\nimport { Calendar } from '@fullcalendar/core';\n\nimport * as ɵngcc0 from '@angular/core';\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\n/*\nthe docs point to this file as an index of options.\nwhen this files is moved, update the docs.\n*/\nconst INPUT_NAMES = [\n    'header',\n    'footer',\n    'customButtons',\n    'buttonIcons',\n    'themeSystem',\n    'bootstrapFontAwesome',\n    'firstDay',\n    'dir',\n    'weekends',\n    'hiddenDays',\n    'fixedWeekCount',\n    'weekNumbers',\n    'weekNumbersWithinDays',\n    'weekNumberCalculation',\n    'businessHours',\n    'showNonCurrentDates',\n    'height',\n    'contentHeight',\n    'aspectRatio',\n    'handleWindowResize',\n    'windowResizeDelay',\n    'eventLimit',\n    'eventLimitClick',\n    'timeZone',\n    'now',\n    'defaultView',\n    'allDaySlot',\n    'allDayText',\n    'slotDuration',\n    'slotLabelFormat',\n    'slotLabelInterval',\n    'snapDuration',\n    'scrollTime',\n    'minTime',\n    'maxTime',\n    'slotEventOverlap',\n    'listDayFormat',\n    'listDayAltFormat',\n    'noEventsMessage',\n    'defaultDate',\n    'nowIndicator',\n    'visibleRange',\n    'validRange',\n    'dateIncrement',\n    'dateAlignment',\n    'duration',\n    'dayCount',\n    'locales',\n    'locale',\n    'eventTimeFormat',\n    'columnHeader',\n    'columnHeaderFormat',\n    'columnHeaderText',\n    'columnHeaderHtml',\n    'titleFormat',\n    'weekLabel',\n    'displayEventTime',\n    'displayEventEnd',\n    'eventLimitText',\n    'dayPopoverFormat',\n    'navLinks',\n    'selectable',\n    'selectMirror',\n    'selectMinDistance',\n    'unselectAuto',\n    'unselectCancel',\n    'defaultAllDayEventDuration',\n    'defaultTimedEventDuration',\n    'cmdFormatter',\n    'defaultRangeSeparator',\n    'selectConstraint',\n    'selectOverlap',\n    'selectAllow',\n    'editable',\n    'eventStartEditable',\n    'eventDurationEditable',\n    'eventConstraint',\n    'eventOverlap',\n    'eventAllow',\n    'eventClassName',\n    'eventClassNames',\n    'eventBackgroundColor',\n    'eventBorderColor',\n    'eventTextColor',\n    'eventColor',\n    'events',\n    'eventSources',\n    'allDayDefault',\n    'startParam',\n    'endParam',\n    'lazyFetching',\n    'nextDayThreshold',\n    'eventOrder',\n    'rerenderDelay',\n    'dragRevertDuration',\n    'dragScroll',\n    'longPressDelay',\n    'eventLongPressDelay',\n    'droppable',\n    'dropAccept',\n    'eventDataTransform',\n    'allDayMaintainDuration',\n    'eventResizableFromStart',\n    'timeGridEventMinHeight',\n    'allDayHtml',\n    'eventDragMinDistance',\n    'eventSourceFailure',\n    'eventSourceSuccess',\n    'forceEventDuration',\n    'progressiveEventRendering',\n    'selectLongPressDelay',\n    'selectMinDistance',\n    'timeZoneParam',\n    'titleRangeSeparator',\n    // compound OptionsInput...\n    'buttonText',\n    'views',\n    'plugins',\n    // scheduler...\n    'schedulerLicenseKey',\n    'resources',\n    'resourceLabelText',\n    'resourceOrder',\n    'filterResourcesWithEvents',\n    'resourceText',\n    'resourceGroupField',\n    'resourceGroupText',\n    'resourceAreaWidth',\n    'resourceColumns',\n    'resourcesInitiallyExpanded',\n    'slotWidth',\n    'datesAboveResources',\n    'googleCalendarApiKey',\n    'refetchResourcesOnNavigate',\n    'eventResourceEditable'\n];\nconst INPUT_IS_DEEP = {\n    header: true,\n    footer: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\nconst OUTPUT_NAMES = [\n    'windowResize',\n    'dateClick',\n    'eventClick',\n    'navLinkDayClick',\n    'navLinkWeekClick',\n    'eventMouseEnter',\n    'eventMouseLeave',\n    'select',\n    'unselect',\n    'loading',\n    'eventPositioned',\n    'eventDragStart',\n    'eventDragStop',\n    'eventDrop',\n    'eventResizeStart',\n    'eventResizeStop',\n    'eventResize',\n    'drop',\n    'eventReceive',\n    'eventLeave',\n    '_destroyed',\n    // TODO: make these inputs...\n    'viewSkeletonRender',\n    'viewSkeletonDestroy',\n    'datesRender',\n    'datesDestroy',\n    'dayRender',\n    'eventRender',\n    'eventDestroy',\n    'resourceRender'\n];\n\nlet FullCalendarComponent = class FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.dirtyProps = {};\n        this.deepCopies = {}; // holds frozen states\n        this.windowResize = new EventEmitter();\n        this.dateClick = new EventEmitter();\n        this.eventClick = new EventEmitter();\n        this.eventMouseEnter = new EventEmitter();\n        this.eventMouseLeave = new EventEmitter();\n        this.select = new EventEmitter();\n        this.unselect = new EventEmitter();\n        this.loading = new EventEmitter();\n        this.eventPositioned = new EventEmitter();\n        this.eventDragStart = new EventEmitter();\n        this.eventDragStop = new EventEmitter();\n        this.eventDrop = new EventEmitter();\n        this.eventResizeStart = new EventEmitter();\n        this.eventResizeStop = new EventEmitter();\n        this.eventResize = new EventEmitter();\n        this.drop = new EventEmitter();\n        this.eventReceive = new EventEmitter();\n        this.eventLeave = new EventEmitter();\n        this._destroyed = new EventEmitter();\n        this.navLinkDayClick = new EventEmitter();\n        this.navLinkWeekClick = new EventEmitter();\n        // TODO: make these inputs...\n        this.viewSkeletonRender = new EventEmitter();\n        this.viewSkeletonDestroy = new EventEmitter();\n        this.datesRender = new EventEmitter();\n        this.datesDestroy = new EventEmitter();\n        this.dayRender = new EventEmitter();\n        this.eventRender = new EventEmitter();\n        this.eventDestroy = new EventEmitter();\n        this.resourceRender = new EventEmitter();\n    }\n    ngAfterViewInit() {\n        this.calendar = new Calendar(this.element.nativeElement, this.buildOptions());\n        this.calendar.render();\n    }\n    buildOptions() {\n        const options = {};\n        OUTPUT_NAMES.forEach(outputName => {\n            options[outputName] = (...args) => {\n                this[outputName].emit(...args);\n            };\n        });\n        // do after outputs, so that inputs with same name override\n        INPUT_NAMES.forEach(inputName => {\n            let inputVal = this[inputName];\n            if (inputVal !== undefined) { // unfortunately FC chokes when some props are set to undefined\n                if (this.deepChangeDetection && INPUT_IS_DEEP[inputName]) {\n                    inputVal = deepCopy(inputVal);\n                    this.deepCopies[inputName] = inputVal; // side effect!\n                }\n                options[inputName] = inputVal;\n            }\n        });\n        return options;\n    }\n    /*\n    called before ngOnChanges, allows us to manually detect input changes.\n    called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar && this.deepChangeDetection) { // not the initial render AND we do deep-mutation checks\n            const { deepCopies } = this;\n            for (const inputName in INPUT_IS_DEEP) {\n                if (INPUT_IS_DEEP.hasOwnProperty(inputName)) {\n                    const inputVal = this[inputName];\n                    if (inputVal !== undefined) { // unfortunately FC chokes when some props are set to undefined\n                        if (!deepEqual(inputVal, deepCopies[inputName])) {\n                            const copy = deepCopy(inputVal);\n                            deepCopies[inputName] = copy;\n                            this.dirtyProps[inputName] = copy;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    /*\n    called with confirmed changes to input references\n    */\n    ngOnChanges(changes) {\n        if (this.calendar) { // not the initial render\n            for (const inputName in changes) {\n                if (changes.hasOwnProperty(inputName)) {\n                    if (this.deepCopies[inputName] === undefined) { // not already handled in ngDoCheck\n                        this.dirtyProps[inputName] = changes[inputName].currentValue;\n                    }\n                }\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        const { dirtyProps } = this; // hold on to reference before clearing\n        if (Object.keys(dirtyProps).length > 0) {\n            this.dirtyProps = {}; // clear first, in case the rerender causes new dirtiness\n            this.calendar.mutateOptions(dirtyProps, [], false, deepEqual);\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) {\n            this.calendar.destroy();\n        }\n        this.calendar = null;\n    }\n    getApi() {\n        return this.calendar;\n    }\n};\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { deepChangeDetection: \"deepChangeDetection\", header: \"header\", footer: \"footer\", customButtons: \"customButtons\", buttonIcons: \"buttonIcons\", themeSystem: \"themeSystem\", bootstrapFontAwesome: \"bootstrapFontAwesome\", firstDay: \"firstDay\", dir: \"dir\", weekends: \"weekends\", hiddenDays: \"hiddenDays\", fixedWeekCount: \"fixedWeekCount\", weekNumbers: \"weekNumbers\", weekNumbersWithinDays: \"weekNumbersWithinDays\", weekNumberCalculation: \"weekNumberCalculation\", businessHours: \"businessHours\", showNonCurrentDates: \"showNonCurrentDates\", height: \"height\", contentHeight: \"contentHeight\", aspectRatio: \"aspectRatio\", handleWindowResize: \"handleWindowResize\", windowResizeDelay: \"windowResizeDelay\", eventLimit: \"eventLimit\", eventLimitClick: \"eventLimitClick\", timeZone: \"timeZone\", now: \"now\", defaultView: \"defaultView\", allDaySlot: \"allDaySlot\", allDayText: \"allDayText\", slotDuration: \"slotDuration\", slotLabelFormat: \"slotLabelFormat\", slotLabelInterval: \"slotLabelInterval\", snapDuration: \"snapDuration\", scrollTime: \"scrollTime\", minTime: \"minTime\", maxTime: \"maxTime\", slotEventOverlap: \"slotEventOverlap\", listDayFormat: \"listDayFormat\", listDayAltFormat: \"listDayAltFormat\", noEventsMessage: \"noEventsMessage\", defaultDate: \"defaultDate\", nowIndicator: \"nowIndicator\", visibleRange: \"visibleRange\", validRange: \"validRange\", dateIncrement: \"dateIncrement\", dateAlignment: \"dateAlignment\", duration: \"duration\", dayCount: \"dayCount\", locales: \"locales\", locale: \"locale\", eventTimeFormat: \"eventTimeFormat\", columnHeader: \"columnHeader\", columnHeaderFormat: \"columnHeaderFormat\", columnHeaderText: \"columnHeaderText\", columnHeaderHtml: \"columnHeaderHtml\", titleFormat: \"titleFormat\", weekLabel: \"weekLabel\", displayEventTime: \"displayEventTime\", displayEventEnd: \"displayEventEnd\", eventLimitText: \"eventLimitText\", dayPopoverFormat: \"dayPopoverFormat\", navLinks: \"navLinks\", selectable: \"selectable\", selectMirror: \"selectMirror\", unselectAuto: \"unselectAuto\", unselectCancel: \"unselectCancel\", defaultAllDayEventDuration: \"defaultAllDayEventDuration\", defaultTimedEventDuration: \"defaultTimedEventDuration\", cmdFormatter: \"cmdFormatter\", defaultRangeSeparator: \"defaultRangeSeparator\", selectConstraint: \"selectConstraint\", selectOverlap: \"selectOverlap\", selectAllow: \"selectAllow\", selectMinDistance: \"selectMinDistance\", editable: \"editable\", eventStartEditable: \"eventStartEditable\", eventDurationEditable: \"eventDurationEditable\", eventConstraint: \"eventConstraint\", eventOverlap: \"eventOverlap\", eventAllow: \"eventAllow\", eventClassName: \"eventClassName\", eventClassNames: \"eventClassNames\", eventBackgroundColor: \"eventBackgroundColor\", eventBorderColor: \"eventBorderColor\", eventTextColor: \"eventTextColor\", eventColor: \"eventColor\", events: \"events\", eventSources: \"eventSources\", allDayDefault: \"allDayDefault\", startParam: \"startParam\", endParam: \"endParam\", lazyFetching: \"lazyFetching\", nextDayThreshold: \"nextDayThreshold\", eventOrder: \"eventOrder\", rerenderDelay: \"rerenderDelay\", dragRevertDuration: \"dragRevertDuration\", dragScroll: \"dragScroll\", longPressDelay: \"longPressDelay\", eventLongPressDelay: \"eventLongPressDelay\", droppable: \"droppable\", dropAccept: \"dropAccept\", eventDataTransform: \"eventDataTransform\", allDayMaintainDuration: \"allDayMaintainDuration\", eventResizableFromStart: \"eventResizableFromStart\", timeGridEventMinHeight: \"timeGridEventMinHeight\", allDayHtml: \"allDayHtml\", eventDragMinDistance: \"eventDragMinDistance\", eventSourceFailure: \"eventSourceFailure\", eventSourceSuccess: \"eventSourceSuccess\", forceEventDuration: \"forceEventDuration\", progressiveEventRendering: \"progressiveEventRendering\", selectLongPressDelay: \"selectLongPressDelay\", timeZoneParam: \"timeZoneParam\", titleRangeSeparator: \"titleRangeSeparator\", buttonText: \"buttonText\", views: \"views\", plugins: \"plugins\", schedulerLicenseKey: \"schedulerLicenseKey\", resources: \"resources\", resourceLabelText: \"resourceLabelText\", resourceOrder: \"resourceOrder\", filterResourcesWithEvents: \"filterResourcesWithEvents\", resourceText: \"resourceText\", resourceGroupField: \"resourceGroupField\", resourceGroupText: \"resourceGroupText\", resourceAreaWidth: \"resourceAreaWidth\", resourceColumns: \"resourceColumns\", resourcesInitiallyExpanded: \"resourcesInitiallyExpanded\", slotWidth: \"slotWidth\", datesAboveResources: \"datesAboveResources\", googleCalendarApiKey: \"googleCalendarApiKey\", refetchResourcesOnNavigate: \"refetchResourcesOnNavigate\", eventResourceEditable: \"eventResourceEditable\" }, outputs: { windowResize: \"windowResize\", dateClick: \"dateClick\", eventClick: \"eventClick\", eventMouseEnter: \"eventMouseEnter\", eventMouseLeave: \"eventMouseLeave\", select: \"select\", unselect: \"unselect\", loading: \"loading\", eventPositioned: \"eventPositioned\", eventDragStart: \"eventDragStart\", eventDragStop: \"eventDragStop\", eventDrop: \"eventDrop\", eventResizeStart: \"eventResizeStart\", eventResizeStop: \"eventResizeStop\", eventResize: \"eventResize\", drop: \"drop\", eventReceive: \"eventReceive\", eventLeave: \"eventLeave\", _destroyed: \"_destroyed\", navLinkDayClick: \"navLinkDayClick\", navLinkWeekClick: \"navLinkWeekClick\", viewSkeletonRender: \"viewSkeletonRender\", viewSkeletonDestroy: \"viewSkeletonDestroy\", datesRender: \"datesRender\", datesDestroy: \"datesDestroy\", dayRender: \"dayRender\", eventRender: \"eventRender\", eventDestroy: \"eventDestroy\", resourceRender: \"resourceRender\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"deepChangeDetection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"header\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"footer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"customButtons\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"buttonIcons\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"themeSystem\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"bootstrapFontAwesome\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"firstDay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"dir\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"weekends\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], FullCalendarComponent.prototype, \"hiddenDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"fixedWeekCount\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"weekNumbers\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"weekNumbersWithinDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"weekNumberCalculation\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"businessHours\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"showNonCurrentDates\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"height\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"contentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"aspectRatio\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"handleWindowResize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"windowResizeDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventLimit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventLimitClick\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"timeZone\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"now\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"defaultView\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"allDaySlot\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"allDayText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"slotDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"slotLabelFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"slotLabelInterval\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"snapDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"scrollTime\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"minTime\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"maxTime\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"slotEventOverlap\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"listDayFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"listDayAltFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"noEventsMessage\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"defaultDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"nowIndicator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"visibleRange\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"validRange\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dateIncrement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"dateAlignment\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"duration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"dayCount\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], FullCalendarComponent.prototype, \"locales\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventTimeFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"columnHeader\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"columnHeaderFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"columnHeaderText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"columnHeaderHtml\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"titleFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"weekLabel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"displayEventTime\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"displayEventEnd\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventLimitText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dayPopoverFormat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"navLinks\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"selectable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"selectMirror\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"unselectAuto\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"unselectCancel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"defaultAllDayEventDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"defaultTimedEventDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"cmdFormatter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"defaultRangeSeparator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"selectConstraint\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"selectOverlap\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"selectAllow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"selectMinDistance\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"editable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"eventStartEditable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"eventDurationEditable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventConstraint\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventOverlap\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventAllow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventClassName\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventClassNames\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"eventBackgroundColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"eventBorderColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"eventTextColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"eventColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], FullCalendarComponent.prototype, \"eventSources\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"allDayDefault\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"startParam\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"endParam\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"lazyFetching\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"nextDayThreshold\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventOrder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"rerenderDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"dragRevertDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"dragScroll\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"longPressDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"eventLongPressDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"droppable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dropAccept\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDataTransform\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"allDayMaintainDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"eventResizableFromStart\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"timeGridEventMinHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"allDayHtml\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"eventDragMinDistance\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventSourceFailure\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventSourceSuccess\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"forceEventDuration\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"progressiveEventRendering\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], FullCalendarComponent.prototype, \"selectLongPressDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"timeZoneParam\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"titleRangeSeparator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"buttonText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"views\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], FullCalendarComponent.prototype, \"plugins\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"schedulerLicenseKey\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resources\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"resourceLabelText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceOrder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"filterResourcesWithEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceGroupField\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceGroupText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceAreaWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceColumns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourcesInitiallyExpanded\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"slotWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"datesAboveResources\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], FullCalendarComponent.prototype, \"googleCalendarApiKey\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"refetchResourcesOnNavigate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], FullCalendarComponent.prototype, \"eventResourceEditable\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"windowResize\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dateClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventMouseEnter\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventMouseLeave\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"select\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"unselect\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"loading\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventPositioned\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDragStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDragStop\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDrop\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventResizeStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventResizeStop\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventResize\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"drop\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventReceive\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventLeave\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"_destroyed\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"navLinkDayClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"navLinkWeekClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"viewSkeletonRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"viewSkeletonDestroy\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"datesRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"datesDestroy\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"dayRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"eventDestroy\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], FullCalendarComponent.prototype, \"resourceRender\", void 0);\nFullCalendarComponent = __decorate([ __metadata(\"design:paramtypes\", [ElementRef])\n], FullCalendarComponent);\n\nlet FullCalendarModule = class FullCalendarModule {\n};\nFullCalendarModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); }, imports: [[]] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: ''\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { windowResize: [{\n            type: Output\n        }], dateClick: [{\n            type: Output\n        }], eventClick: [{\n            type: Output\n        }], eventMouseEnter: [{\n            type: Output\n        }], eventMouseLeave: [{\n            type: Output\n        }], select: [{\n            type: Output\n        }], unselect: [{\n            type: Output\n        }], loading: [{\n            type: Output\n        }], eventPositioned: [{\n            type: Output\n        }], eventDragStart: [{\n            type: Output\n        }], eventDragStop: [{\n            type: Output\n        }], eventDrop: [{\n            type: Output\n        }], eventResizeStart: [{\n            type: Output\n        }], eventResizeStop: [{\n            type: Output\n        }], eventResize: [{\n            type: Output\n        }], drop: [{\n            type: Output\n        }], eventReceive: [{\n            type: Output\n        }], eventLeave: [{\n            type: Output\n        }], _destroyed: [{\n            type: Output\n        }], navLinkDayClick: [{\n            type: Output\n        }], navLinkWeekClick: [{\n            type: Output\n        }], viewSkeletonRender: [{\n            type: Output\n        }], viewSkeletonDestroy: [{\n            type: Output\n        }], datesRender: [{\n            type: Output\n        }], datesDestroy: [{\n            type: Output\n        }], dayRender: [{\n            type: Output\n        }], eventRender: [{\n            type: Output\n        }], eventDestroy: [{\n            type: Output\n        }], resourceRender: [{\n            type: Output\n        }], deepChangeDetection: [{\n            type: Input\n        }], header: [{\n            type: Input\n        }], footer: [{\n            type: Input\n        }], customButtons: [{\n            type: Input\n        }], buttonIcons: [{\n            type: Input\n        }], themeSystem: [{\n            type: Input\n        }], bootstrapFontAwesome: [{\n            type: Input\n        }], firstDay: [{\n            type: Input\n        }], dir: [{\n            type: Input\n        }], weekends: [{\n            type: Input\n        }], hiddenDays: [{\n            type: Input\n        }], fixedWeekCount: [{\n            type: Input\n        }], weekNumbers: [{\n            type: Input\n        }], weekNumbersWithinDays: [{\n            type: Input\n        }], weekNumberCalculation: [{\n            type: Input\n        }], businessHours: [{\n            type: Input\n        }], showNonCurrentDates: [{\n            type: Input\n        }], height: [{\n            type: Input\n        }], contentHeight: [{\n            type: Input\n        }], aspectRatio: [{\n            type: Input\n        }], handleWindowResize: [{\n            type: Input\n        }], windowResizeDelay: [{\n            type: Input\n        }], eventLimit: [{\n            type: Input\n        }], eventLimitClick: [{\n            type: Input\n        }], timeZone: [{\n            type: Input\n        }], now: [{\n            type: Input\n        }], defaultView: [{\n            type: Input\n        }], allDaySlot: [{\n            type: Input\n        }], allDayText: [{\n            type: Input\n        }], slotDuration: [{\n            type: Input\n        }], slotLabelFormat: [{\n            type: Input\n        }], slotLabelInterval: [{\n            type: Input\n        }], snapDuration: [{\n            type: Input\n        }], scrollTime: [{\n            type: Input\n        }], minTime: [{\n            type: Input\n        }], maxTime: [{\n            type: Input\n        }], slotEventOverlap: [{\n            type: Input\n        }], listDayFormat: [{\n            type: Input\n        }], listDayAltFormat: [{\n            type: Input\n        }], noEventsMessage: [{\n            type: Input\n        }], defaultDate: [{\n            type: Input\n        }], nowIndicator: [{\n            type: Input\n        }], visibleRange: [{\n            type: Input\n        }], validRange: [{\n            type: Input\n        }], dateIncrement: [{\n            type: Input\n        }], dateAlignment: [{\n            type: Input\n        }], duration: [{\n            type: Input\n        }], dayCount: [{\n            type: Input\n        }], locales: [{\n            type: Input\n        }], locale: [{\n            type: Input\n        }], eventTimeFormat: [{\n            type: Input\n        }], columnHeader: [{\n            type: Input\n        }], columnHeaderFormat: [{\n            type: Input\n        }], columnHeaderText: [{\n            type: Input\n        }], columnHeaderHtml: [{\n            type: Input\n        }], titleFormat: [{\n            type: Input\n        }], weekLabel: [{\n            type: Input\n        }], displayEventTime: [{\n            type: Input\n        }], displayEventEnd: [{\n            type: Input\n        }], eventLimitText: [{\n            type: Input\n        }], dayPopoverFormat: [{\n            type: Input\n        }], navLinks: [{\n            type: Input\n        }], selectable: [{\n            type: Input\n        }], selectMirror: [{\n            type: Input\n        }], unselectAuto: [{\n            type: Input\n        }], unselectCancel: [{\n            type: Input\n        }], defaultAllDayEventDuration: [{\n            type: Input\n        }], defaultTimedEventDuration: [{\n            type: Input\n        }], cmdFormatter: [{\n            type: Input\n        }], defaultRangeSeparator: [{\n            type: Input\n        }], selectConstraint: [{\n            type: Input\n        }], selectOverlap: [{\n            type: Input\n        }], selectAllow: [{\n            type: Input\n        }], selectMinDistance: [{\n            type: Input\n        }], editable: [{\n            type: Input\n        }], eventStartEditable: [{\n            type: Input\n        }], eventDurationEditable: [{\n            type: Input\n        }], eventConstraint: [{\n            type: Input\n        }], eventOverlap: [{\n            type: Input\n        }], eventAllow: [{\n            type: Input\n        }], eventClassName: [{\n            type: Input\n        }], eventClassNames: [{\n            type: Input\n        }], eventBackgroundColor: [{\n            type: Input\n        }], eventBorderColor: [{\n            type: Input\n        }], eventTextColor: [{\n            type: Input\n        }], eventColor: [{\n            type: Input\n        }], events: [{\n            type: Input\n        }], eventSources: [{\n            type: Input\n        }], allDayDefault: [{\n            type: Input\n        }], startParam: [{\n            type: Input\n        }], endParam: [{\n            type: Input\n        }], lazyFetching: [{\n            type: Input\n        }], nextDayThreshold: [{\n            type: Input\n        }], eventOrder: [{\n            type: Input\n        }], rerenderDelay: [{\n            type: Input\n        }], dragRevertDuration: [{\n            type: Input\n        }], dragScroll: [{\n            type: Input\n        }], longPressDelay: [{\n            type: Input\n        }], eventLongPressDelay: [{\n            type: Input\n        }], droppable: [{\n            type: Input\n        }], dropAccept: [{\n            type: Input\n        }], eventDataTransform: [{\n            type: Input\n        }], allDayMaintainDuration: [{\n            type: Input\n        }], eventResizableFromStart: [{\n            type: Input\n        }], timeGridEventMinHeight: [{\n            type: Input\n        }], allDayHtml: [{\n            type: Input\n        }], eventDragMinDistance: [{\n            type: Input\n        }], eventSourceFailure: [{\n            type: Input\n        }], eventSourceSuccess: [{\n            type: Input\n        }], forceEventDuration: [{\n            type: Input\n        }], progressiveEventRendering: [{\n            type: Input\n        }], selectLongPressDelay: [{\n            type: Input\n        }], timeZoneParam: [{\n            type: Input\n        }], titleRangeSeparator: [{\n            type: Input\n        }], buttonText: [{\n            type: Input\n        }], views: [{\n            type: Input\n        }], plugins: [{\n            type: Input\n        }], schedulerLicenseKey: [{\n            type: Input\n        }], resources: [{\n            type: Input\n        }], resourceLabelText: [{\n            type: Input\n        }], resourceOrder: [{\n            type: Input\n        }], filterResourcesWithEvents: [{\n            type: Input\n        }], resourceText: [{\n            type: Input\n        }], resourceGroupField: [{\n            type: Input\n        }], resourceGroupText: [{\n            type: Input\n        }], resourceAreaWidth: [{\n            type: Input\n        }], resourceColumns: [{\n            type: Input\n        }], resourcesInitiallyExpanded: [{\n            type: Input\n        }], slotWidth: [{\n            type: Input\n        }], datesAboveResources: [{\n            type: Input\n        }], googleCalendarApiKey: [{\n            type: Input\n        }], refetchResourcesOnNavigate: [{\n            type: Input\n        }], eventResourceEditable: [{\n            type: Input\n        }] }); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n//# sourceMappingURL=fullcalendar-angular.js.map","/*!\nFullCalendar Core Package v4.4.2\nDocs & License: https://fullcalendar.io/\n(c) 2019 Adam Shaw\n*/\n\n// Creating\n// ----------------------------------------------------------------------------------------------------------------\nvar elementPropHash = {\n    className: true,\n    colSpan: true,\n    rowSpan: true\n};\nvar containerTagHash = {\n    '<tr': 'tbody',\n    '<td': 'tr'\n};\nfunction createElement(tagName, attrs, content) {\n    var el = document.createElement(tagName);\n    if (attrs) {\n        for (var attrName in attrs) {\n            if (attrName === 'style') {\n                applyStyle(el, attrs[attrName]);\n            }\n            else if (elementPropHash[attrName]) {\n                el[attrName] = attrs[attrName];\n            }\n            else {\n                el.setAttribute(attrName, attrs[attrName]);\n            }\n        }\n    }\n    if (typeof content === 'string') {\n        el.innerHTML = content; // shortcut. no need to process HTML in any way\n    }\n    else if (content != null) {\n        appendToElement(el, content);\n    }\n    return el;\n}\nfunction htmlToElement(html) {\n    html = html.trim();\n    var container = document.createElement(computeContainerTag(html));\n    container.innerHTML = html;\n    return container.firstChild;\n}\nfunction htmlToElements(html) {\n    return Array.prototype.slice.call(htmlToNodeList(html));\n}\nfunction htmlToNodeList(html) {\n    html = html.trim();\n    var container = document.createElement(computeContainerTag(html));\n    container.innerHTML = html;\n    return container.childNodes;\n}\n// assumes html already trimmed and tag names are lowercase\nfunction computeContainerTag(html) {\n    return containerTagHash[html.substr(0, 3) // faster than using regex\n    ] || 'div';\n}\nfunction appendToElement(el, content) {\n    var childNodes = normalizeContent(content);\n    for (var i = 0; i < childNodes.length; i++) {\n        el.appendChild(childNodes[i]);\n    }\n}\nfunction prependToElement(parent, content) {\n    var newEls = normalizeContent(content);\n    var afterEl = parent.firstChild || null; // if no firstChild, will append to end, but that's okay, b/c there were no children\n    for (var i = 0; i < newEls.length; i++) {\n        parent.insertBefore(newEls[i], afterEl);\n    }\n}\nfunction insertAfterElement(refEl, content) {\n    var newEls = normalizeContent(content);\n    var afterEl = refEl.nextSibling || null;\n    for (var i = 0; i < newEls.length; i++) {\n        refEl.parentNode.insertBefore(newEls[i], afterEl);\n    }\n}\nfunction normalizeContent(content) {\n    var els;\n    if (typeof content === 'string') {\n        els = htmlToElements(content);\n    }\n    else if (content instanceof Node) {\n        els = [content];\n    }\n    else { // Node[] or NodeList\n        els = Array.prototype.slice.call(content);\n    }\n    return els;\n}\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\n// from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\nvar matchesMethod = Element.prototype.matches ||\n    Element.prototype.matchesSelector ||\n    Element.prototype.msMatchesSelector;\nvar closestMethod = Element.prototype.closest || function (selector) {\n    // polyfill\n    var el = this;\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n};\nfunction elementClosest(el, selector) {\n    return closestMethod.call(el, selector);\n}\nfunction elementMatches(el, selector) {\n    return matchesMethod.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i++) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j++) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements\nfunction findChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i++) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j++) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Attributes\n// ----------------------------------------------------------------------------------------------------------------\nfunction forceClassName(el, className, bool) {\n    if (bool) {\n        el.classList.add(className);\n    }\n    else {\n        el.classList.remove(className);\n    }\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + 'px';\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom)\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom)\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top\n    };\n}\n\n// Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\nvar isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (isRtlScrollbarOnLeft === null) {\n        isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = createElement('div', {\n        style: {\n            position: 'absolute',\n            top: -1000,\n            left: 0,\n            border: 0,\n            padding: 0,\n            overflow: 'scroll',\n            direction: 'rtl'\n        }\n    }, '<div></div>');\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n// The scrollbar width computations in computeEdges are sometimes flawed when it comes to\n// retina displays, rounding, and IE11. Massage them into a usable value.\nfunction sanitizeScrollbarWidth(width) {\n    width = Math.max(0, width); // no negatives\n    width = Math.round(width);\n    return width;\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    // must use offset(Width|Height) because compatible with client(Width|Height)\n    var scrollbarLeftRight = sanitizeScrollbarWidth(el.offsetWidth - el.clientWidth - borderLeft - borderRight);\n    var scrollbarBottom = sanitizeScrollbarWidth(el.offsetHeight - el.clientHeight - borderTop - borderBottom);\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset\n    };\n}\nfunction computeViewportRect() {\n    return {\n        left: window.pageXOffset,\n        right: window.pageXOffset + document.documentElement.clientWidth,\n        top: window.pageYOffset,\n        bottom: window.pageYOffset + document.documentElement.clientHeight\n    };\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\nfunction computeClippingRect(el) {\n    return getClippingParents(el)\n        .map(function (el) {\n        return computeInnerRect(el);\n    })\n        .concat(computeViewportRect())\n        .reduce(function (rect0, rect1) {\n        return intersectRects(rect0, rect1) || rect1; // should always intersect\n    });\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction listenBySelector(container, eventType, selector, handler) {\n    function realHandler(ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    }\n    container.addEventListener(eventType, realHandler);\n    return function () {\n        container.removeEventListener(eventType, realHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (ev, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(ev, matchedChild);\n            var realOnMouseLeave_1 = function (ev) {\n                currentMatchedChild = null;\n                onMouseLeave(ev, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend'\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf())\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate()\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours()\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes()\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds()\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds()\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return normalizeObject(input);\n    }\n    else if (typeof input === 'number') {\n        return normalizeObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    else {\n        return null;\n    }\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            )\n        };\n    }\n    return null;\n}\nfunction normalizeObject(obj) {\n    return {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: (obj.days || obj.day || 0) +\n            getWeeksFromInput(obj) * 7,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0) // ms\n    };\n}\nfunction getWeeksFromInput(obj) {\n    return obj.weeks || obj.week || 0;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction isSingleDay(dur) {\n    return dur.years === 0 && dur.months === 0 && dur.days === 1 && dur.milliseconds === 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i++) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur, dontReturnWeeks) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (!dontReturnWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\n// and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\nfunction compensateScroll(rowEl, scrollbarWidths) {\n    if (scrollbarWidths.left) {\n        applyStyle(rowEl, {\n            borderLeftWidth: 1,\n            marginLeft: scrollbarWidths.left - 1\n        });\n    }\n    if (scrollbarWidths.right) {\n        applyStyle(rowEl, {\n            borderRightWidth: 1,\n            marginRight: scrollbarWidths.right - 1\n        });\n    }\n}\n// Undoes compensateScroll and restores all borders/margins\nfunction uncompensateScroll(rowEl) {\n    applyStyle(rowEl, {\n        marginLeft: '',\n        marginRight: '',\n        borderLeftWidth: '',\n        borderRightWidth: ''\n    });\n}\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n// Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\n// By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\n// any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and\n// reduces the available height.\nfunction distributeHeight(els, availableHeight, shouldRedistribute) {\n    // *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\n    // and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\n    var minOffset1 = Math.floor(availableHeight / els.length); // for non-last element\n    var minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*\n    var flexEls = []; // elements that are allowed to expand. array of DOM nodes\n    var flexOffsets = []; // amount of vertical space it takes up\n    var flexHeights = []; // actual css height\n    var usedHeight = 0;\n    undistributeHeight(els); // give all elements their natural height\n    // find elements that are below the recommended height (expandable).\n    // important to query for heights in a single first pass (to avoid reflow oscillation).\n    els.forEach(function (el, i) {\n        var minOffset = i === els.length - 1 ? minOffset2 : minOffset1;\n        var naturalHeight = el.getBoundingClientRect().height;\n        var naturalOffset = naturalHeight + computeVMargins(el);\n        if (naturalOffset < minOffset) {\n            flexEls.push(el);\n            flexOffsets.push(naturalOffset);\n            flexHeights.push(naturalHeight);\n        }\n        else {\n            // this element stretches past recommended height (non-expandable). mark the space as occupied.\n            usedHeight += naturalOffset;\n        }\n    });\n    // readjust the recommended height to only consider the height available to non-maxed-out rows.\n    if (shouldRedistribute) {\n        availableHeight -= usedHeight;\n        minOffset1 = Math.floor(availableHeight / flexEls.length);\n        minOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*\n    }\n    // assign heights to all expandable elements\n    flexEls.forEach(function (el, i) {\n        var minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;\n        var naturalOffset = flexOffsets[i];\n        var naturalHeight = flexHeights[i];\n        var newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding\n        if (naturalOffset < minOffset) { // we check this again because redistribution might have changed things\n            el.style.height = newHeight + 'px';\n        }\n    });\n}\n// Undoes distrubuteHeight, restoring all els to their natural height\nfunction undistributeHeight(els) {\n    els.forEach(function (el) {\n        el.style.height = '';\n    });\n}\n// Given `els`, a set of <td> cells, find the cell with the largest natural width and set the widths of all the\n// cells to be that width.\n// PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\nfunction matchCellWidths(els) {\n    var maxInnerWidth = 0;\n    els.forEach(function (el) {\n        var innerEl = el.firstChild; // hopefully an element\n        if (innerEl instanceof HTMLElement) {\n            var innerWidth_1 = innerEl.getBoundingClientRect().width;\n            if (innerWidth_1 > maxInnerWidth) {\n                maxInnerWidth = innerWidth_1;\n            }\n        }\n    });\n    maxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance\n    els.forEach(function (el) {\n        el.style.width = maxInnerWidth + 'px';\n    });\n    return maxInnerWidth;\n}\n// Given one element that resides inside another,\n// Subtracts the height of the inner element from the outer element.\nfunction subtractInnerElHeight(outerEl, innerEl) {\n    // effin' IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\n    var reflowStyleProps = {\n        position: 'relative',\n        left: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\n    };\n    applyStyle(outerEl, reflowStyleProps);\n    applyStyle(innerEl, reflowStyleProps);\n    var diff = // grab the dimensions\n     outerEl.getBoundingClientRect().height -\n        innerEl.getBoundingClientRect().height;\n    // undo hack\n    var resetStyleProps = { position: '', left: '' };\n    applyStyle(outerEl, resetStyleProps);\n    applyStyle(innerEl, resetStyleProps);\n    return diff;\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\n/* Object Ordering by Field\n----------------------------------------------------------------------------------------------------------------------*/\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i++) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction capitaliseFirstLetter(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* Weird Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction applyAll(functions, thisObj, args) {\n    if (typeof functions === 'function') { // supplied a single function\n        functions = [functions];\n    }\n    if (functions) {\n        var i = void 0;\n        var ret = void 0;\n        for (i = 0; i < functions.length; i++) {\n            ret = functions[i].apply(thisObj, args) || ret;\n        }\n        return ret;\n    }\n}\nfunction firstDefined() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i++) {\n        if (args[i] !== undefined) {\n            return args[i];\n        }\n    }\n}\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\nfunction debounce(func, wait) {\n    var timeout;\n    var args;\n    var context;\n    var timestamp;\n    var result;\n    var later = function () {\n        var last = new Date().valueOf() - timestamp;\n        if (last < wait) {\n            timeout = setTimeout(later, wait - last);\n        }\n        else {\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        }\n    };\n    return function () {\n        context = this;\n        args = arguments;\n        timestamp = new Date().valueOf();\n        if (!timeout) {\n            timeout = setTimeout(later, wait);\n        }\n        return result;\n    };\n}\n// Number and Boolean are only types that defaults or not computed for\n// TODO: write more comments\nfunction refineProps(rawProps, processors, defaults, leftoverProps) {\n    if (defaults === void 0) { defaults = {}; }\n    var refined = {};\n    for (var key in processors) {\n        var processor = processors[key];\n        if (rawProps[key] !== undefined) {\n            // found\n            if (processor === Function) {\n                refined[key] = typeof rawProps[key] === 'function' ? rawProps[key] : null;\n            }\n            else if (processor) { // a refining function?\n                refined[key] = processor(rawProps[key]);\n            }\n            else {\n                refined[key] = rawProps[key];\n            }\n        }\n        else if (defaults[key] !== undefined) {\n            // there's an explicit default\n            refined[key] = defaults[key];\n        }\n        else {\n            // must compute a default\n            if (processor === String) {\n                refined[key] = ''; // empty string is default for String\n            }\n            else if (!processor || processor === Number || processor === Boolean || processor === Function) {\n                refined[key] = null; // assign null for other non-custom processor funcs\n            }\n            else {\n                refined[key] = processor(null); // run the custom processor func\n            }\n        }\n    }\n    if (leftoverProps) {\n        for (var key in rawProps) {\n            if (processors[key] === undefined) {\n                leftoverProps[key] = rawProps[key];\n            }\n        }\n    }\n    return refined;\n}\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    else if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    else {\n        return diffDayAndTime(date0, date1); // returns a duration\n    }\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nfunction parseRecurring(eventInput, allDayDefault, dateEnv, recurringTypes, leftovers) {\n    for (var i = 0; i < recurringTypes.length; i++) {\n        var localLeftovers = {};\n        var parsed = recurringTypes[i].parse(eventInput, localLeftovers, dateEnv);\n        if (parsed) {\n            var allDay = localLeftovers.allDay;\n            delete localLeftovers.allDay; // remove from leftovers\n            if (allDay == null) {\n                allDay = allDayDefault;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            __assign(leftovers, localLeftovers);\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i\n            };\n        }\n    }\n    return null;\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexProps) {\n    var dest = {};\n    var i;\n    var name;\n    var complexObjs;\n    var j;\n    var val;\n    var props;\n    if (complexProps) {\n        for (i = 0; i < complexProps.length; i++) {\n            name = complexProps[i];\n            complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (j = propObjs.length - 1; j >= 0; j--) {\n                val = propObjs[j][name];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (i = propObjs.length - 1; i >= 0; i--) {\n        props = propObjs[i];\n        for (name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nfunction parseEvents(rawEvents, sourceId, calendar, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, sourceId, calendar, allowOpenRange);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\nfunction expandRecurring(eventStore, framingRange, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    instances = filterHash(instances, function (instance) {\n        return !defs[instance.defId].recurringDef;\n    });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    calendar.defaultAllDayEventDuration :\n                    calendar.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, calendar.dateEnv, calendar.pluginSystem.hooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration)\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) {\n            return isEventDefsGrouped(def_1, lookDef);\n        });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction transformRawEvents(rawEvents, eventSource, calendar) {\n    var calEachTransform = calendar.opt('eventDataTransform');\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_2 = rawEvents; _i < rawEvents_2.length; _i++) {\n            var rawEvent = rawEvents_2[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign({}, store0.defs, store1.defs),\n        instances: __assign({}, store0.instances, store1.instances)\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) {\n        return defs[instance.defId]; // still exists?\n    });\n    return { defs: defs, instances: instances };\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i++) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start;\n    var end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt++;\n        }\n        else {\n            i++;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1) {\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i++) {\n        if (a0[i] !== a1[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc) {\n    var args;\n    var res;\n    return function () {\n        if (!args || !isArraysEqual(args, arguments)) {\n            args = arguments;\n            res = workerFunc.apply(this, arguments);\n        }\n        return res;\n    };\n}\n/*\nalways executes the workerFunc, but if the result is equal to the previous result,\nreturn the previous result instead.\n*/\nfunction memoizeOutput(workerFunc, equalityFunc) {\n    var cachedRes = null;\n    return function () {\n        var newRes = workerFunc.apply(this, arguments);\n        if (cachedRes === null || !(cachedRes === newRes || equalityFunc(cachedRes, newRes))) {\n            cachedRes = newRes;\n        }\n        return cachedRes;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) {\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            default:\n                return 'day';\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) {\n            return formatTimeZoneOffset(date.timeZoneOffset);\n        };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) {\n            return formatWeekNumber(context.computeWeekNumber(date.marker), context.weekLabel, context.locale, extendedSettings.week);\n        };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) {\n            return m1.toLocaleLowerCase();\n        });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) {\n            return m1.toLocaleLowerCase() + 'm';\n        });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) {\n            return m0.toLocaleLowerCase();\n        });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ' ' + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekLabel, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekLabel);\n    }\n    else if (display === 'short') {\n        parts.push(weekLabel, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.isRtl) { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0\n                };\n            }\n        }\n    }\n    return null;\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr, separator) {\n        this.cmdStr = cmdStr;\n        this.separator = separator;\n    }\n    CmdFormatter.prototype.format = function (date, context) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, this.separator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, this.separator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context) {\n        return this.func(createVerboseFormattingArg(date, null, context));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context) {\n        return this.func(createVerboseFormattingArg(start, end, context));\n    };\n    return FuncFormatter;\n}());\n\n// Formatter Object Creation\nfunction createFormatter(input, defaultSeparator) {\n    if (typeof input === 'object' && input) { // non-null object\n        if (typeof defaultSeparator === 'string') {\n            input = __assign({ separator: defaultSeparator }, input);\n        }\n        return new NativeFormatter(input);\n    }\n    else if (typeof input === 'string') {\n        return new CmdFormatter(input, defaultSeparator);\n    }\n    else if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n}\n// String Utils\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + ':' + padStart(mins, 2);\n    }\n    else {\n        return 'GMT' + sign + hours + (mins ? ':' + padStart(mins, 2) : '');\n    }\n}\n// Arg Utils\nfunction createVerboseFormattingArg(start, end, context, separator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        separator: separator\n    };\n}\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6]\n    };\n}\n\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(calendar, internalEventSource) {\n        this.calendar = calendar;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.calendar.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.calendar.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId]\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        // only relevant to json-feed event sources\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    function EventApi(calendar, def, instance) {\n        this._calendar = calendar;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in DATE_PROPS) ;\n        else if (name in NON_DATE_PROPS) {\n            if (typeof NON_DATE_PROPS[name] === 'function') {\n                val = NON_DATE_PROPS[name](val);\n            }\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a)\n            });\n        }\n        else if (name in UNSCOPED_EVENT_UI_PROPS) {\n            var ui = void 0;\n            if (typeof UNSCOPED_EVENT_UI_PROPS[name] === 'function') {\n                val = UNSCOPED_EVENT_UI_PROPS[name](val);\n            }\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui }\n            });\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a)\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._calendar.opt('allDayMaintainDuration');\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._calendar.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput, this._calendar.opt('defaultRangeSeparator'));\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo\n            });\n        }\n        else {\n            return dateEnv.format(instance.range.start, formatter, {\n                forcedTzo: instance.forcedStartTzo\n            });\n        }\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var def = this._def;\n        var instance = this._instance;\n        if (instance) {\n            this._calendar.dispatch({\n                type: 'MUTATE_EVENTS',\n                instanceId: instance.instanceId,\n                mutation: mutation,\n                fromApi: true\n            });\n            var eventStore = this._calendar.state.eventStore;\n            this._def = eventStore.defs[def.defId];\n            this._instance = eventStore.instances[instance.instanceId];\n        }\n    };\n    EventApi.prototype.remove = function () {\n        this._calendar.dispatch({\n            type: 'REMOVE_EVENT_DEF',\n            defId: this._def.defId\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._calendar, this._calendar.state.eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._calendar.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._calendar.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"rendering\", {\n        get: function () { return this._def.rendering; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: true,\n        configurable: true\n    });\n    return EventApi;\n}());\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        if (def.rendering === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (def.rendering === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else {\n                (def.rendering === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf()\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.rendering === 'background' || def.rendering === 'inverse-background';\n}\nfunction filterSegsViaEls(context, segs, isMirror) {\n    var calendar = context.calendar, view = context.view;\n    if (calendar.hasPublicHandlers('eventRender')) {\n        segs = segs.filter(function (seg) {\n            var custom = calendar.publiclyTrigger('eventRender', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirror,\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                    // TODO: include seg.range once all components consistently generate it\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n            if (custom === false) { // means don't render at all\n                return false;\n            }\n            else if (custom && custom !== true) {\n                seg.el = custom;\n            }\n            return true;\n        });\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        setElSeg(seg.el, seg);\n    }\n    return segs;\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg || null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) {\n        return compileEventUi(eventDef, eventUiBases);\n    });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\n// triggers\nfunction triggerRenderedSegs(context, segs, isMirrors) {\n    var calendar = context.calendar, view = context.view;\n    if (calendar.hasPublicHandlers('eventPositioned')) {\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            calendar.publiclyTriggerAfterSizing('eventPositioned', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirrors,\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n        }\n    }\n    if (!calendar.state.eventSourceLoadingLevel) { // avoid initial empty state while pending\n        calendar.afterSizingTriggers._eventsPositioned = [null]; // fire once\n    }\n}\nfunction triggerWillRemoveSegs(context, segs, isMirrors) {\n    var calendar = context.calendar, view = context.view;\n    for (var _i = 0, segs_3 = segs; _i < segs_3.length; _i++) {\n        var seg = segs_3[_i];\n        calendar.trigger('eventElRemove', seg.el);\n    }\n    if (calendar.hasPublicHandlers('eventDestroy')) {\n        for (var _a = 0, segs_4 = segs; _a < segs_4.length; _a++) {\n            var seg = segs_4[_a];\n            calendar.publiclyTrigger('eventDestroy', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirrors,\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n        }\n    }\n}\n// is-interactable\nfunction computeEventDraggable(context, eventDef, eventUi) {\n    var calendar = context.calendar, view = context.view;\n    var transformers = calendar.pluginSystem.hooks.isDraggableTransformers;\n    var val = eventUi.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, eventDef, eventUi, view);\n    }\n    return val;\n}\nfunction computeEventStartResizable(context, eventDef, eventUi) {\n    return eventUi.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeEventEndResizable(context, eventDef, eventUi) {\n    return eventUi.durationEditable;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, calendar) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, calendar.pluginSystem.hooks.eventDefMutationAppliers, calendar);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, calendar);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, appliers, calendar) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign({}, eventDef, standardProps, { ui: __assign({}, eventDef.ui, standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign({}, copy.extendedProps, mutation.extendedProps);\n    }\n    for (var _i = 0, appliers_1 = appliers; _i < appliers_1.length; _i++) {\n        var applier = appliers_1[_i];\n        applier(copy, mutation, calendar);\n    }\n    if (!copy.hasEnd && calendar.opt('forceEventDuration')) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta)\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta)\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: calendar.getDefaultEventEnd(eventDef.allDay, copy.range.start)\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end)\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = calendar.getDefaultEventEnd(eventDef.allDay, copy.range.start);\n    }\n    return copy;\n}\n\nfunction reduceEventStore (eventStore, action, eventSources, dateProfile, calendar) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, calendar);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, calendar);\n            }\n            else {\n                return eventStore;\n            }\n        case 'CHANGE_TIMEZONE':\n            return rezoneDates(eventStore, action.oldDateEnv, calendar.dateEnv);\n        case 'MUTATE_EVENTS':\n            return applyMutationToRelated(eventStore, action.instanceId, action.mutation, action.fromApi, calendar);\n        case 'REMOVE_EVENT_INSTANCES':\n            return excludeInstances(eventStore, action.instances);\n        case 'REMOVE_EVENT_DEF':\n            return filterEventStoreDefs(eventStore, function (eventDef) {\n                return eventDef.defId !== action.defId;\n            });\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) {\n                return !eventDef.sourceId; // only keep events with no source id\n            });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        case 'RESET_EVENTS':\n            return {\n                defs: eventStore.defs,\n                instances: eventStore.instances\n            };\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, calendar) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, calendar), eventSource.sourceId, calendar);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, calendar);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction addEvent(eventStore, subset, expandRange, calendar) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, calendar);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        else {\n            return __assign({}, instance, { range: {\n                    start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                    end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo))\n                }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n        }\n    });\n    return { defs: defs, instances: instances };\n}\nfunction applyMutationToRelated(eventStore, instanceId, mutation, fromApi, calendar) {\n    var relevant = getRelevantEvents(eventStore, instanceId);\n    var eventConfigBase = fromApi ?\n        { '': {\n                startEditable: true,\n                durationEditable: true,\n                constraints: [],\n                overlap: null,\n                allows: [],\n                backgroundColor: '',\n                borderColor: '',\n                textColor: '',\n                classNames: []\n            } } :\n        calendar.eventUiBases;\n    relevant = applyMutationToEventStore(relevant, eventConfigBase, mutation, calendar);\n    return mergeEventStores(eventStore, relevant);\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) {\n        return eventDef.sourceId !== sourceId;\n    });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) {\n            return !removals[instance.instanceId];\n        })\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, calendar) {\n    return isNewPropsValid({ eventDrag: interaction }, calendar); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, calendar) {\n    return isNewPropsValid({ dateSelection: dateSelection }, calendar);\n}\nfunction isNewPropsValid(newProps, calendar) {\n    var view = calendar.view;\n    var props = __assign({ businessHours: view ? view.props.businessHours : createEmptyEventStore(), dateSelection: '', eventStore: calendar.state.eventStore, eventUiBases: calendar.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (calendar.pluginSystem.hooks.isPropsValid || isPropsValid)(props, calendar);\n}\nfunction isPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, calendar, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, calendar, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': calendar.selectionConfig } // if not a real event, validate as a selection\n    );\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances); // exclude the subject events. TODO: exclude defs too?\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, calendar)) {\n            return false;\n        }\n        // overlap\n        var overlapFunc = calendar.opt('eventOverlap');\n        if (typeof overlapFunc !== 'function') {\n            overlapFunc = null;\n        }\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (overlapFunc && !overlapFunc(new EventApi(calendar, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(calendar, subjectDef, subjectInstance) // moving event\n                )) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = calendar.state.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign({}, dateSpanMeta, { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(calendar, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(calendar, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(calendar.buildDateSpanApi(subjectDateSpan), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = calendar.selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, calendar)) {\n        return false;\n    }\n    // overlap\n    var overlapFunc = calendar.opt('selectOverlap');\n    if (typeof overlapFunc !== 'function') {\n        overlapFunc = null;\n    }\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (overlapFunc && !overlapFunc(new EventApi(calendar, relevantDefs[relevantInstance.defId], relevantInstance))) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign({}, dateSpanMeta, selection);\n        if (!selectionAllow(calendar.buildDateSpanApi(fullDateSpan), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, calendar) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, calendar), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncalendar // for expanding businesshours\n) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, calendar));\n    }\n    else if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) {\n            return eventDef.groupId === constraint;\n        }));\n    }\n    else if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, calendar));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n// Parsing\n// ------------------------------------------------------------------------------------------------------------------------\nfunction normalizeConstraint(input, calendar) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, '', calendar, true); // allowOpenRange=true\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], '', calendar, true); // allowOpenRange=true\n    }\n    else if (input != null) {\n        return String(input);\n    }\n    else {\n        return null;\n    }\n}\n\nfunction htmlEscape(s) {\n    return (s + '').replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/'/g, '&#039;')\n        .replace(/\"/g, '&quot;')\n        .replace(/\\n/g, '<br />');\n}\n// Given a hash of CSS properties, returns a string of CSS.\n// Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\nfunction cssToStr(cssProps) {\n    var statements = [];\n    for (var name_1 in cssProps) {\n        var val = cssProps[name_1];\n        if (val != null && val !== '') {\n            statements.push(name_1 + ':' + val);\n        }\n    }\n    return statements.join(';');\n}\n// Given an object hash of HTML attribute names to values,\n// generates a string that can be injected between < > in HTML\nfunction attrsToStr(attrs) {\n    var parts = [];\n    for (var name_2 in attrs) {\n        var val = attrs[name_2];\n        if (val != null) {\n            parts.push(name_2 + '=\"' + htmlEscape(val) + '\"');\n        }\n    }\n    return parts.join(' ');\n}\nfunction parseClassName(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    else if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    else {\n        return [];\n    }\n}\n\nvar UNSCOPED_EVENT_UI_PROPS = {\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: null,\n    overlap: null,\n    allow: null,\n    className: parseClassName,\n    classNames: parseClassName,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String\n};\nfunction processUnscopedUiProps(rawProps, calendar, leftovers) {\n    var props = refineProps(rawProps, UNSCOPED_EVENT_UI_PROPS, {}, leftovers);\n    var constraint = normalizeConstraint(props.constraint, calendar);\n    return {\n        startEditable: props.startEditable != null ? props.startEditable : props.editable,\n        durationEditable: props.durationEditable != null ? props.durationEditable : props.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: props.overlap,\n        allows: props.allow != null ? [props.allow] : [],\n        backgroundColor: props.backgroundColor || props.color,\n        borderColor: props.borderColor || props.color,\n        textColor: props.textColor,\n        classNames: props.classNames.concat(props.className)\n    };\n}\nfunction processScopedUiProps(prefix, rawScoped, calendar, leftovers) {\n    var rawUnscoped = {};\n    var wasFound = {};\n    for (var key in UNSCOPED_EVENT_UI_PROPS) {\n        var scopedKey = prefix + capitaliseFirstLetter(key);\n        rawUnscoped[key] = rawScoped[scopedKey];\n        wasFound[scopedKey] = true;\n    }\n    if (prefix === 'event') {\n        rawUnscoped.editable = rawScoped.editable; // special case. there is no 'eventEditable', just 'editable'\n    }\n    if (leftovers) {\n        for (var key in rawScoped) {\n            if (!wasFound[key]) {\n                leftovers[key] = rawScoped[key];\n            }\n        }\n    }\n    return processUnscopedUiProps(rawUnscoped, calendar);\n}\nvar EMPTY_EVENT_UI = {\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: []\n};\n// prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames)\n    };\n}\n\nvar NON_DATE_PROPS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    rendering: String,\n    extendedProps: null\n};\nvar DATE_PROPS = {\n    start: null,\n    date: null,\n    end: null,\n    allDay: null\n};\nvar uid = 0;\nfunction parseEvent(raw, sourceId, calendar, allowOpenRange) {\n    var allDayDefault = computeIsAllDayDefault(sourceId, calendar);\n    var leftovers0 = {};\n    var recurringRes = parseRecurring(raw, // raw, but with single-event stuff stripped out\n    allDayDefault, calendar.dateEnv, calendar.pluginSystem.hooks.recurringTypes, leftovers0 // will populate with non-recurring props\n    );\n    if (recurringRes) {\n        var def = parseEventDef(leftovers0, sourceId, recurringRes.allDay, Boolean(recurringRes.duration), calendar);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration\n        };\n        return { def: def, instance: null };\n    }\n    else {\n        var leftovers1 = {};\n        var singleRes = parseSingle(raw, allDayDefault, calendar, leftovers1, allowOpenRange);\n        if (singleRes) {\n            var def = parseEventDef(leftovers1, sourceId, singleRes.allDay, singleRes.hasEnd, calendar);\n            var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n            return { def: def, instance: instance };\n        }\n    }\n    return null;\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\nThe EventNonDateInput has been normalized (id => publicId, etc).\n*/\nfunction parseEventDef(raw, sourceId, allDay, hasEnd, calendar) {\n    var leftovers = {};\n    var def = pluckNonDateProps(raw, calendar, leftovers);\n    def.defId = String(uid++);\n    def.sourceId = sourceId;\n    def.allDay = allDay;\n    def.hasEnd = hasEnd;\n    for (var _i = 0, _a = calendar.pluginSystem.hooks.eventDefParsers; _i < _a.length; _i++) {\n        var eventDefParser = _a[_i];\n        var newLeftovers = {};\n        eventDefParser(def, leftovers, newLeftovers);\n        leftovers = newLeftovers;\n    }\n    def.extendedProps = __assign(leftovers, def.extendedProps || {});\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: String(uid++),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo\n    };\n}\nfunction parseSingle(raw, allDayDefault, calendar, leftovers, allowOpenRange) {\n    var props = pluckDateProps(raw, leftovers);\n    var allDay = props.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    startMeta = calendar.dateEnv.createMarkerMeta(props.start);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (props.end != null) {\n        endMeta = calendar.dateEnv.createMarkerMeta(props.end);\n    }\n    if (allDay == null) {\n        if (allDayDefault != null) {\n            allDay = allDayDefault;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = calendar.opt('forceEventDuration') || false;\n        endMarker = calendar.dateEnv.add(startMarker, allDay ?\n            calendar.defaultAllDayEventDuration :\n            calendar.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null\n    };\n}\nfunction pluckDateProps(raw, leftovers) {\n    var props = refineProps(raw, DATE_PROPS, {}, leftovers);\n    props.start = (props.start !== null) ? props.start : props.date;\n    delete props.date;\n    return props;\n}\nfunction pluckNonDateProps(raw, calendar, leftovers) {\n    var preLeftovers = {};\n    var props = refineProps(raw, NON_DATE_PROPS, {}, preLeftovers);\n    var ui = processUnscopedUiProps(preLeftovers, calendar, leftovers);\n    props.publicId = props.id;\n    delete props.id;\n    props.ui = ui;\n    return props;\n}\nfunction computeIsAllDayDefault(sourceId, calendar) {\n    var res = null;\n    if (sourceId) {\n        var source = calendar.state.eventSources[sourceId];\n        res = source.allDayDefault;\n    }\n    if (res == null) {\n        res = calendar.opt('allDayDefault');\n    }\n    return res;\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    rendering: 'inverse-background',\n    classNames: 'fc-nonbusiness',\n    groupId: '_businessHours' // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, calendar) {\n    return parseEvents(refineInputs(input), '', calendar);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) {\n            return rawDef.daysOfWeek;\n        });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) {\n        return __assign({}, DEF_DEFAULTS, rawDef);\n    });\n    return rawDefs;\n}\n\nfunction memoizeRendering(renderFunc, unrenderFunc, dependencies) {\n    if (dependencies === void 0) { dependencies = []; }\n    var dependents = [];\n    var thisContext;\n    var prevArgs;\n    function unrender() {\n        if (prevArgs) {\n            for (var _i = 0, dependents_1 = dependents; _i < dependents_1.length; _i++) {\n                var dependent = dependents_1[_i];\n                dependent.unrender();\n            }\n            if (unrenderFunc) {\n                unrenderFunc.apply(thisContext, prevArgs);\n            }\n            prevArgs = null;\n        }\n    }\n    function res() {\n        if (!prevArgs || !isArraysEqual(prevArgs, arguments)) {\n            unrender();\n            thisContext = this;\n            prevArgs = arguments;\n            renderFunc.apply(this, arguments);\n        }\n    }\n    res.dependents = dependents;\n    res.unrender = unrender;\n    for (var _i = 0, dependencies_1 = dependencies; _i < dependencies_1.length; _i++) {\n        var dependency = dependencies_1[_i];\n        dependency.dependents.push(res);\n    }\n    return res;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) {\n            return _this.eventUiBuilders[key] || memoize(buildEventUiForKey);\n        });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) {\n            return _this.getKeysForEventDef(eventDef);\n        });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents) // can't use cached. might be events from other calendar\n            );\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                        origSeg: interaction.origSeg\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts)\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\n// Generates HTML for an anchor to another view into the calendar.\n// Will either generate an <a> tag or a non-clickable <span> tag, depending on enabled settings.\n// `gotoOptions` can either be a DateMarker, or an object with the form:\n// { date, type, forceOff }\n// `type` is a view-type like \"day\" or \"week\". default value is \"day\".\n// `attrs` and `innerHtml` are use to generate the rest of the HTML tag.\nfunction buildGotoAnchorHtml(allOptions, dateEnv, gotoOptions, attrs, innerHtml) {\n    var date;\n    var type;\n    var forceOff;\n    var finalOptions;\n    if (gotoOptions instanceof Date) {\n        date = gotoOptions; // a single date-like input\n    }\n    else {\n        date = gotoOptions.date;\n        type = gotoOptions.type;\n        forceOff = gotoOptions.forceOff;\n    }\n    finalOptions = {\n        date: dateEnv.formatIso(date, { omitTime: true }),\n        type: type || 'day'\n    };\n    if (typeof attrs === 'string') {\n        innerHtml = attrs;\n        attrs = null;\n    }\n    attrs = attrs ? ' ' + attrsToStr(attrs) : ''; // will have a leading space\n    innerHtml = innerHtml || '';\n    if (!forceOff && allOptions.navLinks) {\n        return '<a' + attrs +\n            ' data-goto=\"' + htmlEscape(JSON.stringify(finalOptions)) + '\">' +\n            innerHtml +\n            '</a>';\n    }\n    else {\n        return '<span' + attrs + '>' +\n            innerHtml +\n            '</span>';\n    }\n}\nfunction getAllDayHtml(allOptions) {\n    return allOptions.allDayHtml || htmlEscape(allOptions.allDayText);\n}\n// Computes HTML classNames for a single-day element\nfunction getDayClasses(date, dateProfile, context, noThemeHighlight) {\n    var calendar = context.calendar, options = context.options, theme = context.theme, dateEnv = context.dateEnv;\n    var classes = [];\n    var todayStart;\n    var todayEnd;\n    if (!rangeContainsMarker(dateProfile.activeRange, date)) {\n        classes.push('fc-disabled-day');\n    }\n    else {\n        classes.push('fc-' + DAY_IDS[date.getUTCDay()]);\n        if (options.monthMode &&\n            dateEnv.getMonth(date) !== dateEnv.getMonth(dateProfile.currentRange.start)) {\n            classes.push('fc-other-month');\n        }\n        todayStart = startOfDay(calendar.getNow());\n        todayEnd = addDays(todayStart, 1);\n        if (date < todayStart) {\n            classes.push('fc-past');\n        }\n        else if (date >= todayEnd) {\n            classes.push('fc-future');\n        }\n        else {\n            classes.push('fc-today');\n            if (noThemeHighlight !== true) {\n                classes.push(theme.getClass('today'));\n            }\n        }\n    }\n    return classes;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments);\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments);\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Mixin = /** @class */ (function () {\n    function Mixin() {\n    }\n    // mix into a CLASS\n    Mixin.mixInto = function (destClass) {\n        this.mixIntoObj(destClass.prototype);\n    };\n    // mix into ANY object\n    Mixin.mixIntoObj = function (destObj) {\n        var _this = this;\n        Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\n            if (!destObj[name]) { // if destination doesn't already define it\n                destObj[name] = _this.prototype[name];\n            }\n        });\n    };\n    /*\n    will override existing methods\n    TODO: remove! not used anymore\n    */\n    Mixin.mixOver = function (destClass) {\n        var _this = this;\n        Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\n            destClass.prototype[name] = _this.prototype[name];\n        });\n    };\n    return Mixin;\n}());\n\n/*\nUSAGE:\n  import { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\nin class:\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\nafter class:\n  EmitterMixin.mixInto(TheClass)\n*/\nvar EmitterMixin = /** @class */ (function (_super) {\n    __extends(EmitterMixin, _super);\n    function EmitterMixin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmitterMixin.prototype.on = function (type, handler) {\n        addToHash(this._handlers || (this._handlers = {}), type, handler);\n        return this; // for chaining\n    };\n    // todo: add comments\n    EmitterMixin.prototype.one = function (type, handler) {\n        addToHash(this._oneHandlers || (this._oneHandlers = {}), type, handler);\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.off = function (type, handler) {\n        if (this._handlers) {\n            removeFromHash(this._handlers, type, handler);\n        }\n        if (this._oneHandlers) {\n            removeFromHash(this._oneHandlers, type, handler);\n        }\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        this.triggerWith(type, this, args);\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.triggerWith = function (type, context, args) {\n        if (this._handlers) {\n            applyAll(this._handlers[type], context, args);\n        }\n        if (this._oneHandlers) {\n            applyAll(this._oneHandlers[type], context, args);\n            delete this._oneHandlers[type]; // will never fire again\n        }\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.hasHandlers = function (type) {\n        return (this._handlers && this._handlers[type] && this._handlers[type].length) ||\n            (this._oneHandlers && this._oneHandlers[type] && this._oneHandlers[type].length);\n    };\n    return EmitterMixin;\n}(Mixin));\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) {\n                return func !== handler;\n            });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.originEl = originEl;\n        this.els = els;\n        this.isHorizontal = isHorizontal;\n        this.isVertical = isVertical;\n    }\n    // Queries the els for coordinates and stores them.\n    // Call this method before using and of the get* methods below.\n    PositionCache.prototype.build = function () {\n        var originEl = this.originEl;\n        var originClientRect = this.originClientRect =\n            originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (this.isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (this.isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    };\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var lefts = this.lefts;\n        var rights = this.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i++) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var tops = this.tops;\n        var bottoms = this.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i++) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\n/*\nEmbodies a div that has potential scrollbars\n*/\nvar ScrollComponent = /** @class */ (function (_super) {\n    __extends(ScrollComponent, _super);\n    function ScrollComponent(overflowX, overflowY) {\n        var _this = _super.call(this, createElement('div', {\n            className: 'fc-scroller'\n        })) || this;\n        _this.overflowX = overflowX;\n        _this.overflowY = overflowY;\n        _this.applyOverflow();\n        return _this;\n    }\n    // sets to natural height, unlocks overflow\n    ScrollComponent.prototype.clear = function () {\n        this.setHeight('auto');\n        this.applyOverflow();\n    };\n    ScrollComponent.prototype.destroy = function () {\n        removeElement(this.el);\n    };\n    // Overflow\n    // -----------------------------------------------------------------------------------------------------------------\n    ScrollComponent.prototype.applyOverflow = function () {\n        applyStyle(this.el, {\n            overflowX: this.overflowX,\n            overflowY: this.overflowY\n        });\n    };\n    // Causes any 'auto' overflow values to resolves to 'scroll' or 'hidden'.\n    // Useful for preserving scrollbar widths regardless of future resizes.\n    // Can pass in scrollbarWidths for optimization.\n    ScrollComponent.prototype.lockOverflow = function (scrollbarWidths) {\n        var overflowX = this.overflowX;\n        var overflowY = this.overflowY;\n        scrollbarWidths = scrollbarWidths || this.getScrollbarWidths();\n        if (overflowX === 'auto') {\n            overflowX = (scrollbarWidths.bottom || // horizontal scrollbars?\n                this.canScrollHorizontally() // OR scrolling pane with massless scrollbars?\n            ) ? 'scroll' : 'hidden';\n        }\n        if (overflowY === 'auto') {\n            overflowY = (scrollbarWidths.left || scrollbarWidths.right || // horizontal scrollbars?\n                this.canScrollVertically() // OR scrolling pane with massless scrollbars?\n            ) ? 'scroll' : 'hidden';\n        }\n        applyStyle(this.el, { overflowX: overflowX, overflowY: overflowY });\n    };\n    ScrollComponent.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    ScrollComponent.prototype.getScrollbarWidths = function () {\n        var edges = computeEdges(this.el);\n        return {\n            left: edges.scrollbarLeft,\n            right: edges.scrollbarRight,\n            bottom: edges.scrollbarBottom\n        };\n    };\n    return ScrollComponent;\n}(ElementScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        this.calendarOptions = calendarOptions;\n        this.processIconOverride();\n    }\n    Theme.prototype.processIconOverride = function () {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(this.calendarOptions[this.iconOverrideOption]);\n        }\n    };\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName) {\n        var className = this.iconClasses[buttonName];\n        if (className) {\n            return this.baseIconClass + ' ' + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + ' ' + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar guid = 0;\nvar ComponentContext = /** @class */ (function () {\n    function ComponentContext(calendar, theme, dateEnv, options, view) {\n        this.calendar = calendar;\n        this.theme = theme;\n        this.dateEnv = dateEnv;\n        this.options = options;\n        this.view = view;\n        this.isRtl = options.dir === 'rtl';\n        this.eventOrderSpecs = parseFieldSpecs(options.eventOrder);\n        this.nextDayThreshold = createDuration(options.nextDayThreshold);\n    }\n    ComponentContext.prototype.extend = function (options, view) {\n        return new ComponentContext(this.calendar, this.theme, this.dateEnv, options || this.options, view || this.view);\n    };\n    return ComponentContext;\n}());\nvar Component = /** @class */ (function () {\n    function Component() {\n        this.everRendered = false;\n        this.uid = String(guid++);\n    }\n    Component.addEqualityFuncs = function (newFuncs) {\n        this.prototype.equalityFuncs = __assign({}, this.prototype.equalityFuncs, newFuncs);\n    };\n    Component.prototype.receiveProps = function (props, context) {\n        this.receiveContext(context);\n        var _a = recycleProps(this.props || {}, props, this.equalityFuncs), anyChanges = _a.anyChanges, comboProps = _a.comboProps;\n        this.props = comboProps;\n        if (anyChanges) {\n            if (this.everRendered) {\n                this.beforeUpdate();\n            }\n            this.render(comboProps, context);\n            if (this.everRendered) {\n                this.afterUpdate();\n            }\n        }\n        this.everRendered = true;\n    };\n    Component.prototype.receiveContext = function (context) {\n        var oldContext = this.context;\n        this.context = context;\n        if (!oldContext) {\n            this.firstContext(context);\n        }\n    };\n    Component.prototype.render = function (props, context) {\n    };\n    Component.prototype.firstContext = function (context) {\n    };\n    Component.prototype.beforeUpdate = function () {\n    };\n    Component.prototype.afterUpdate = function () {\n    };\n    // after destroy is called, this component won't ever be used again\n    Component.prototype.destroy = function () {\n    };\n    return Component;\n}());\nComponent.prototype.equalityFuncs = {};\n/*\nReuses old values when equal. If anything is unequal, returns newProps as-is.\nGreat for PureComponent, but won't be feasible with React, so just eliminate and use React's DOM diffing.\n*/\nfunction recycleProps(oldProps, newProps, equalityFuncs) {\n    var comboProps = {}; // some old, some new\n    var anyChanges = false;\n    for (var key in newProps) {\n        if (key in oldProps && (oldProps[key] === newProps[key] ||\n            (equalityFuncs[key] && equalityFuncs[key](oldProps[key], newProps[key])))) {\n            // equal to old? use old prop\n            comboProps[key] = oldProps[key];\n        }\n        else {\n            comboProps[key] = newProps[key];\n            anyChanges = true;\n        }\n    }\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            anyChanges = true;\n            break;\n        }\n    }\n    return { anyChanges: anyChanges, comboProps: comboProps };\n}\n\n/*\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    DateComponent.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeElement(this.el);\n    };\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.buildPositionCaches = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Validation\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isInteractionValid = function (interaction) {\n        var calendar = this.context.calendar;\n        var dateProfile = this.props.dateProfile; // HACK\n        var instances = interaction.mutatedEvents.instances;\n        if (dateProfile) { // HACK for DayTile\n            for (var instanceId in instances) {\n                if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                    return false;\n                }\n            }\n        }\n        return isInteractionValid(interaction, calendar);\n    };\n    DateComponent.prototype.isDateSelectionValid = function (selection) {\n        var calendar = this.context.calendar;\n        var dateProfile = this.props.dateProfile; // HACK\n        if (dateProfile && // HACK for DayTile\n            !rangeContainsRange(dateProfile.validRange, selection.range)) {\n            return false;\n        }\n        return isDateSelectionValid(selection, calendar);\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-mirror') &&\n            (this.isPopover() || !this.isInPopover(el));\n        // ^above line ensures we don't detect a seg interaction within a nested component.\n        // it's a HACK because it only supports a popover as the nested component.\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        var segEl = elementClosest(el, this.fgSegSelector);\n        return (!segEl || segEl.classList.contains('fc-mirror')) &&\n            !elementClosest(el, '.fc-more') && // a \"more..\" link\n            !elementClosest(el, 'a[data-goto]') && // a clickable nav link\n            !this.isInPopover(el);\n    };\n    DateComponent.prototype.isPopover = function () {\n        return this.el.classList.contains('fc-popover');\n    };\n    DateComponent.prototype.isInPopover = function (el) {\n        return Boolean(elementClosest(el, '.fc-popover'));\n    };\n    return DateComponent;\n}(Component));\nDateComponent.prototype.fgSegSelector = '.fc-event-container > *';\nDateComponent.prototype.bgSegSelector = '.fc-bgevent:not(.fc-nonbusiness)';\n\nvar uid$1 = 0;\nfunction createPlugin(input) {\n    return {\n        id: String(uid$1++),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        eventDefParsers: input.eventDefParsers || [],\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        eventResizeJoinTransforms: input.eventResizeJoinTransforms || [],\n        viewContainerModifiers: input.viewContainerModifiers || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        defaultView: input.defaultView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {}\n    };\n}\nvar PluginSystem = /** @class */ (function () {\n    function PluginSystem() {\n        this.hooks = {\n            reducers: [],\n            eventDefParsers: [],\n            isDraggableTransformers: [],\n            eventDragMutationMassagers: [],\n            eventDefMutationAppliers: [],\n            dateSelectionTransformers: [],\n            datePointTransforms: [],\n            dateSpanTransforms: [],\n            views: {},\n            viewPropsTransformers: [],\n            isPropsValid: null,\n            externalDefTransforms: [],\n            eventResizeJoinTransforms: [],\n            viewContainerModifiers: [],\n            eventDropTransformers: [],\n            componentInteractions: [],\n            calendarInteractions: [],\n            themeClasses: {},\n            eventSourceDefs: [],\n            cmdFormatter: null,\n            recurringTypes: [],\n            namedTimeZonedImpl: null,\n            defaultView: '',\n            elementDraggingImpl: null,\n            optionChangeHandlers: {}\n        };\n        this.addedHash = {};\n    }\n    PluginSystem.prototype.add = function (plugin) {\n        if (!this.addedHash[plugin.id]) {\n            this.addedHash[plugin.id] = true;\n            for (var _i = 0, _a = plugin.deps; _i < _a.length; _i++) {\n                var dep = _a[_i];\n                this.add(dep);\n            }\n            this.hooks = combineHooks(this.hooks, plugin);\n        }\n    };\n    return PluginSystem;\n}());\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        eventDefParsers: hooks0.eventDefParsers.concat(hooks1.eventDefParsers),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign({}, hooks0.views, hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        eventResizeJoinTransforms: hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),\n        viewContainerModifiers: hooks0.viewContainerModifiers.concat(hooks1.viewContainerModifiers),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign({}, hooks0.themeClasses, hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        defaultView: hooks0.defaultView || hooks1.defaultView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign({}, hooks0.optionChangeHandlers, hooks1.optionChangeHandlers)\n    };\n}\n\nvar eventSourceDef = {\n    ignoreRange: true,\n    parseMeta: function (raw) {\n        if (Array.isArray(raw)) { // short form\n            return raw;\n        }\n        else if (Array.isArray(raw.events)) {\n            return raw.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta\n        });\n    }\n};\nvar ArrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef]\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (raw) {\n        if (typeof raw === 'function') { // short form\n            return raw;\n        }\n        else if (typeof raw.events === 'function') {\n            return raw.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.calendar.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, {\n            start: dateEnv.toDate(arg.range.start),\n            end: dateEnv.toDate(arg.range.end),\n            startStr: dateEnv.formatIso(arg.range.start),\n            endStr: dateEnv.formatIso(arg.range.end),\n            timeZone: dateEnv.timeZone\n        }), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure // send errorObj directly to failure callback\n        );\n    }\n};\nvar FuncEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1]\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            try {\n                var res = JSON.parse(xhr.responseText);\n                successCallback(res, xhr);\n            }\n            catch (err) {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + '=' + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar eventSourceDef$2 = {\n    parseMeta: function (raw) {\n        if (typeof raw === 'string') { // short form\n            raw = { url: raw };\n        }\n        else if (!raw || typeof raw !== 'object' || !raw.url) {\n            return null;\n        }\n        return {\n            url: raw.url,\n            method: (raw.method || 'GET').toUpperCase(),\n            extraParams: raw.extraParams,\n            startParam: raw.startParam,\n            endParam: raw.endParam,\n            timeZoneParam: raw.timeZoneParam\n        };\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.calendar);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    }\n};\nvar JsonFeedEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2]\n});\nfunction buildRequestParams(meta, range, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = calendar.opt('startParam');\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = calendar.opt('endParam');\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = calendar.opt('timeZoneParam');\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar recurring = {\n    parse: function (rawEvent, leftoverProps, dateEnv) {\n        var createMarker = dateEnv.createMarker.bind(dateEnv);\n        var processors = {\n            daysOfWeek: null,\n            startTime: createDuration,\n            endTime: createDuration,\n            startRecur: createMarker,\n            endRecur: createMarker\n        };\n        var props = refineProps(rawEvent, processors, {}, leftoverProps);\n        var anyValid = false;\n        for (var propName in props) {\n            if (props[propName] != null) {\n                anyValid = true;\n                break;\n            }\n        }\n        if (anyValid) {\n            var duration = null;\n            if ('duration' in leftoverProps) {\n                duration = createDuration(leftoverProps.duration);\n                delete leftoverProps.duration;\n            }\n            if (!duration && props.startTime && props.endTime) {\n                duration = subtractDurations(props.endTime, props.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!props.startTime && !props.endTime),\n                duration: duration,\n                typeData: props // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        else {\n            return [];\n        }\n    }\n};\nvar SimpleRecurrencePlugin = createPlugin({\n    recurringTypes: [recurring]\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar DefaultOptionChangeHandlers = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, calendar, deepEqual) {\n            handleEventSources([events], calendar, deepEqual);\n        },\n        eventSources: handleEventSources,\n        plugins: handlePlugins\n    }\n});\nfunction handleEventSources(inputs, calendar, deepEqual) {\n    var unfoundSources = hashValuesToArray(calendar.state.eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i++) {\n            if (deepEqual(unfoundSources[i]._raw, input)) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        calendar.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        calendar.addEventSource(newInput);\n    }\n}\n// shortcoming: won't remove plugins\nfunction handlePlugins(inputs, calendar) {\n    calendar.addPluginInputs(inputs); // will gracefully handle duplicates\n}\n\nvar config = {}; // TODO: make these options\nvar globalDefaults = {\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    // display\n    columnHeader: true,\n    defaultView: '',\n    aspectRatio: 1.35,\n    header: {\n        left: 'title',\n        center: '',\n        right: 'today prev,next'\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    // nowIndicator: false,\n    scrollTime: '06:00:00',\n    minTime: '00:00:00',\n    maxTime: '24:00:00',\n    showNonCurrentDates: true,\n    // event ajax\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    // allDayDefault: undefined,\n    // locale\n    locales: [],\n    locale: '',\n    // dir: will get this from the default locale\n    // buttonIcons: null,\n    // allows setting a min-height to the event segment to prevent short events overlapping each other\n    timeGridEventMinHeight: 0,\n    themeSystem: 'standard',\n    // eventResizableFromStart: false,\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    // selectable: false,\n    unselectAuto: true,\n    // selectMinDistance: 0,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    // ^ if start tie, longer events go before shorter. final tie-breaker is title text\n    // rerenderDelay: null,\n    eventLimit: false,\n    eventLimitClick: 'popover',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5 // only applies to mouse\n};\nvar rtlDefaults = {\n    header: {\n        left: 'next,prev today',\n        center: '',\n        right: 'title'\n    },\n    buttonIcons: {\n        // TODO: make RTL support the responibility of the theme\n        prev: 'fc-icon-chevron-right',\n        next: 'fc-icon-chevron-left',\n        prevYear: 'fc-icon-chevrons-right',\n        nextYear: 'fc-icon-chevrons-left'\n    }\n};\nvar complexOptions = [\n    'header',\n    'footer',\n    'buttonText',\n    'buttonIcons'\n];\n// Merges an array of option objects into a single object\nfunction mergeOptions(optionObjs) {\n    return mergeProps(optionObjs, complexOptions);\n}\n// TODO: move this stuff to a \"plugin\"-related file...\nvar INTERNAL_PLUGINS = [\n    ArrayEventSourcePlugin,\n    FuncEventSourcePlugin,\n    JsonFeedEventSourcePlugin,\n    SimpleRecurrencePlugin,\n    DefaultOptionChangeHandlers\n];\nfunction refinePluginDefs(pluginInputs) {\n    var plugins = [];\n    for (var _i = 0, pluginInputs_1 = pluginInputs; _i < pluginInputs_1.length; _i++) {\n        var pluginInput = pluginInputs_1[_i];\n        if (typeof pluginInput === 'string') {\n            var globalName = 'FullCalendar' + capitaliseFirstLetter(pluginInput);\n            if (!window[globalName]) {\n                console.warn('Plugin file not loaded for ' + pluginInput);\n            }\n            else {\n                plugins.push(window[globalName].default); // is an ES6 module\n            }\n        }\n        else {\n            plugins.push(pluginInput);\n        }\n    }\n    return INTERNAL_PLUGINS.concat(plugins);\n}\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4 // 4 days need to be within the year to be considered the first week\n    },\n    dir: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list'\n    },\n    weekLabel: 'W',\n    allDayText: 'all-day',\n    eventLimitText: 'more',\n    noEventsMessage: 'No events to display'\n};\nfunction parseRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var globalArray = window['FullCalendarLocalesAll'] || []; // from locales-all.js\n    var globalObject = window['FullCalendarLocales'] || {}; // from locales/*.js. keys are meaningless\n    var allRawLocales = globalArray.concat(// globalArray is low prio\n    hashValuesToArray(globalObject), // medium prio\n    explicitRawLocales // highest prio\n    );\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    else {\n        return queryLocale(inputSingular, available);\n    }\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i++) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j--) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged\n    };\n}\n\nvar OptionsManager = /** @class */ (function () {\n    function OptionsManager(overrides) {\n        this.overrides = __assign({}, overrides); // make a copy\n        this.dynamicOverrides = {};\n        this.compute();\n    }\n    OptionsManager.prototype.mutate = function (updates, removals, isDynamic) {\n        if (!Object.keys(updates).length && !removals.length) {\n            return;\n        }\n        var overrideHash = isDynamic ? this.dynamicOverrides : this.overrides;\n        __assign(overrideHash, updates);\n        for (var _i = 0, removals_1 = removals; _i < removals_1.length; _i++) {\n            var propName = removals_1[_i];\n            delete overrideHash[propName];\n        }\n        this.compute();\n    };\n    // Computes the flattened options hash for the calendar and assigns to `this.options`.\n    // Assumes this.overrides and this.dynamicOverrides have already been initialized.\n    OptionsManager.prototype.compute = function () {\n        // TODO: not a very efficient system\n        var locales = firstDefined(// explicit locale option given?\n        this.dynamicOverrides.locales, this.overrides.locales, globalDefaults.locales);\n        var locale = firstDefined(// explicit locales option given?\n        this.dynamicOverrides.locale, this.overrides.locale, globalDefaults.locale);\n        var available = parseRawLocales(locales);\n        var localeDefaults = buildLocale(locale || available.defaultCode, available.map).options;\n        var dir = firstDefined(// based on options computed so far, is direction RTL?\n        this.dynamicOverrides.dir, this.overrides.dir, localeDefaults.dir);\n        var dirDefaults = dir === 'rtl' ? rtlDefaults : {};\n        this.dirDefaults = dirDefaults;\n        this.localeDefaults = localeDefaults;\n        this.computed = mergeOptions([\n            globalDefaults,\n            dirDefaults,\n            localeDefaults,\n            this.overrides,\n            this.dynamicOverrides\n        ]);\n    };\n    return OptionsManager;\n}());\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-(\\d{2})(-(\\d{2})([T ](\\d{2}):(\\d{2})(:(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number('0.' + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekLabel = settings.weekLabel != null ? settings.weekLabel : settings.locale.options.weekLabel;\n        this.cmdFormatter = settings.cmdFormatter;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        else {\n            // if we can't compute the current date val for a timezone,\n            // better to give the current local date vals than UTC\n            return arrayToUtcDate(dateToLocalArray(new Date()));\n        }\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        else if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        else if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        else if (unit === 'day') {\n            return startOfDay(m);\n        }\n        else if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        else if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        else if (unit === 'second') {\n            return startOfSecond(m);\n        }\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m)\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m)\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7)\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        else {\n            return weekOfYear(marker, this.weekDow, this.weekDoy);\n        }\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker)\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start)\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end)\n        }, this);\n    };\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        else if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        else {\n            return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n        }\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        else if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        else if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        else if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        else if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        else {\n            return new Date(m.valueOf() -\n                this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60 // convert minutes -> ms\n            );\n        }\n    };\n    return DateEnv;\n}());\n\nvar SIMPLE_SOURCE_PROPS = {\n    id: String,\n    allDayDefault: Boolean,\n    eventDataTransform: Function,\n    success: Function,\n    failure: Function\n};\nvar uid$2 = 0;\nfunction doesSourceNeedRange(eventSource, calendar) {\n    var defs = calendar.pluginSystem.hooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\nfunction parseEventSource(raw, calendar) {\n    var defs = calendar.pluginSystem.hooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i--) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            var res = parseEventSourceProps(typeof raw === 'object' ? raw : {}, meta, i, calendar);\n            res._raw = raw;\n            return res;\n        }\n    }\n    return null;\n}\nfunction parseEventSourceProps(raw, meta, sourceDefId, calendar) {\n    var leftovers0 = {};\n    var props = refineProps(raw, SIMPLE_SOURCE_PROPS, {}, leftovers0);\n    var leftovers1 = {};\n    var ui = processUnscopedUiProps(leftovers0, calendar, leftovers1);\n    props.isFetching = false;\n    props.latestFetchId = '';\n    props.fetchRange = null;\n    props.publicId = String(raw.id || '');\n    props.sourceId = String(uid$2++);\n    props.sourceDefId = sourceDefId;\n    props.meta = meta;\n    props.ui = ui;\n    props.extendedProps = leftovers1;\n    return props;\n}\n\nfunction reduceEventSources (eventSources, action, dateProfile, calendar) {\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, dateProfile.activeRange, calendar);\n            }\n            else {\n                return eventSources;\n            }\n        case 'FETCH_EVENT_SOURCES':\n        case 'CHANGE_TIMEZONE':\n            return fetchSourcesByIds(eventSources, action.sourceIds ?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, calendar), dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nvar uid$3 = 0;\nfunction addSources(eventSourceHash, sources, fetchRange, calendar) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, calendar);\n    }\n    return __assign({}, eventSourceHash, hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) {\n        return eventSource.sourceId !== sourceId;\n    });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, calendar) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) {\n        return isSourceDirty(eventSource, fetchRange, calendar);\n    }), fetchRange, calendar);\n}\nfunction isSourceDirty(eventSource, fetchRange, calendar) {\n    if (!doesSourceNeedRange(eventSource, calendar)) {\n        return !eventSource.latestFetchId;\n    }\n    else {\n        return !calendar.opt('lazyFetching') ||\n            !eventSource.fetchRange ||\n            eventSource.isFetching || // always cancel outdated in-progress fetches\n            fetchRange.start < eventSource.fetchRange.start ||\n            fetchRange.end > eventSource.fetchRange.end;\n    }\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, calendar) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, calendar);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, calendar) {\n    var sourceDef = calendar.pluginSystem.hooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = String(uid$3++);\n    sourceDef.fetch({\n        eventSource: eventSource,\n        calendar: calendar,\n        range: fetchRange\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        var calSuccess = calendar.opt('eventSourceSuccess');\n        var calSuccessRes;\n        var sourceSuccessRes;\n        if (eventSource.success) {\n            sourceSuccessRes = eventSource.success(rawEvents, res.xhr);\n        }\n        if (calSuccess) {\n            calSuccessRes = calSuccess(rawEvents, res.xhr);\n        }\n        rawEvents = sourceSuccessRes || calSuccessRes || rawEvents;\n        calendar.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents\n        });\n    }, function (error) {\n        var callFailure = calendar.opt('eventSourceFailure');\n        console.warn(error.message, error);\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        if (callFailure) {\n            callFailure(error);\n        }\n        calendar.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error\n        });\n    });\n    return __assign({}, eventSource, { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign({}, sourceHash, (_a = {}, _a[sourceId] = __assign({}, eventSource, { isFetching: false, fetchRange: fetchRange // also serves as a marker that at least one fetch has completed\n         }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, calendar) {\n    return filterHash(eventSources, function (eventSource) {\n        return doesSourceNeedRange(eventSource, calendar);\n    });\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(viewSpec, calendar) {\n        this.viewSpec = viewSpec;\n        this.options = viewSpec.options;\n        this.dateEnv = calendar.dateEnv;\n        this.calendar = calendar;\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate) {\n        var dateEnv = this.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate) {\n        var dateEnv = this.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = false; }\n        var validRange;\n        var minTime = null;\n        var maxTime = null;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!this.options.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        minTime = createDuration(this.options.minTime);\n        maxTime = createDuration(this.options.maxTime);\n        activeRange = this.adjustActiveRange(activeRange, minTime, maxTime);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            minTime: minTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            maxTime: maxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration)\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        return this.getRangeOption('validRange', this.calendar.getNow()) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var _a = this, viewSpec = _a.viewSpec, dateEnv = _a.dateEnv;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (viewSpec.duration) {\n            duration = viewSpec.duration;\n            unit = viewSpec.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.options.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // minTime or maxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range, minTime, maxTime) {\n        var dateEnv = this.dateEnv;\n        var start = range.start;\n        var end = range.end;\n        if (this.viewSpec.class.prototype.usesMinMaxTime) {\n            // expand active range if minTime is negative (why not when positive?)\n            if (asRoughDays(minTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, minTime);\n            }\n            // expand active range if maxTime is beyond one day (why not when positive?)\n            if (asRoughDays(maxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, maxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var dateEnv = this.dateEnv;\n        var alignment = this.options.dateAlignment;\n        var dateIncrementInput;\n        var dateIncrementDuration;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!alignment) {\n            dateIncrementInput = this.options.dateIncrement;\n            if (dateIncrementInput) {\n                dateIncrementDuration = createDuration(dateIncrementInput);\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrementDuration) < asRoughMs(duration)) {\n                    alignment = greatestDurationDenominator(dateIncrementDuration, !getWeeksFromInput(dateIncrementInput)).unit;\n                }\n                else {\n                    alignment = unit;\n                }\n            }\n            else {\n                alignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, alignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var dateEnv = this.dateEnv;\n        var customAlignment = this.options.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (customAlignment) {\n            start = dateEnv.startOf(start, customAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount++;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var dateEnv = this.dateEnv;\n        var visibleRange = this.getRangeOption('visibleRange', dateEnv.toDate(date));\n        if (visibleRange && (visibleRange.start == null || visibleRange.end == null)) {\n            return null;\n        }\n        return visibleRange;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrementInput = this.options.dateIncrement;\n        var customAlignment;\n        if (dateIncrementInput) {\n            return createDuration(dateIncrementInput);\n        }\n        else if ((customAlignment = this.options.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        else if (fallback) {\n            return fallback;\n        }\n        else {\n            return createDuration({ days: 1 });\n        }\n    };\n    // Arguments after name will be forwarded to a hypothetical function value\n    // WARNING: passed-in arguments will be given to generator functions as-is and can cause side-effects.\n    // Always clone your objects if you fear mutation.\n    DateProfileGenerator.prototype.getRangeOption = function (name) {\n        var otherArgs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            otherArgs[_i - 1] = arguments[_i];\n        }\n        var val = this.options[name];\n        if (typeof val === 'function') {\n            val = val.apply(null, otherArgs);\n        }\n        if (val) {\n            val = parseRange(val, this.dateEnv);\n        }\n        if (val) {\n            val = computeVisibleDayRange(val);\n        }\n        return val;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.options.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.options.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i++) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt++;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start;\n        var end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n// TODO: find a way to avoid comparing DateProfiles. it's tedious\nfunction isDateProfilesEqual(p0, p1) {\n    return rangesEqual(p0.validRange, p1.validRange) &&\n        rangesEqual(p0.activeRange, p1.activeRange) &&\n        rangesEqual(p0.renderRange, p1.renderRange) &&\n        durationsEqual(p0.minTime, p1.minTime) &&\n        durationsEqual(p0.maxTime, p1.maxTime);\n    /*\n    TODO: compare more?\n      currentRange: DateRange\n      currentRangeUnit: string\n      isRangeAllDay: boolean\n      isValid: boolean\n      dateIncrement: Duration\n    */\n}\n\nfunction reduce (state, action, calendar) {\n    var viewType = reduceViewType(state.viewType, action);\n    var dateProfile = reduceDateProfile(state.dateProfile, action, state.currentDate, viewType, calendar);\n    var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendar);\n    var nextState = __assign({}, state, { viewType: viewType,\n        dateProfile: dateProfile, currentDate: reduceCurrentDate(state.currentDate, action, dateProfile), eventSources: eventSources, eventStore: reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendar), dateSelection: reduceDateSelection(state.dateSelection, action, calendar), eventSelection: reduceSelectedEvent(state.eventSelection, action), eventDrag: reduceEventDrag(state.eventDrag, action, eventSources, calendar), eventResize: reduceEventResize(state.eventResize, action, eventSources, calendar), eventSourceLoadingLevel: computeLoadingLevel(eventSources), loadingLevel: computeLoadingLevel(eventSources) });\n    for (var _i = 0, _a = calendar.pluginSystem.hooks.reducers; _i < _a.length; _i++) {\n        var reducerFunc = _a[_i];\n        nextState = reducerFunc(nextState, action, calendar);\n    }\n    // console.log(action.type, nextState)\n    return nextState;\n}\nfunction reduceViewType(currentViewType, action) {\n    switch (action.type) {\n        case 'SET_VIEW_TYPE':\n            return action.viewType;\n        default:\n            return currentViewType;\n    }\n}\nfunction reduceDateProfile(currentDateProfile, action, currentDate, viewType, calendar) {\n    var newDateProfile;\n    switch (action.type) {\n        case 'PREV':\n            newDateProfile = calendar.dateProfileGenerators[viewType].buildPrev(currentDateProfile, currentDate);\n            break;\n        case 'NEXT':\n            newDateProfile = calendar.dateProfileGenerators[viewType].buildNext(currentDateProfile, currentDate);\n            break;\n        case 'SET_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker)) {\n                newDateProfile = calendar.dateProfileGenerators[viewType].build(action.dateMarker, undefined, true // forceToValid\n                );\n            }\n            break;\n        case 'SET_VIEW_TYPE':\n            var generator = calendar.dateProfileGenerators[viewType];\n            if (!generator) {\n                throw new Error(viewType ?\n                    'The FullCalendar view \"' + viewType + '\" does not exist. Make sure your plugins are loaded correctly.' :\n                    'No available FullCalendar view plugins.');\n            }\n            newDateProfile = generator.build(action.dateMarker || currentDate, undefined, true // forceToValid\n            );\n            break;\n    }\n    if (newDateProfile &&\n        newDateProfile.isValid &&\n        !(currentDateProfile && isDateProfilesEqual(currentDateProfile, newDateProfile))) {\n        return newDateProfile;\n    }\n    else {\n        return currentDateProfile;\n    }\n}\nfunction reduceCurrentDate(currentDate, action, dateProfile) {\n    switch (action.type) {\n        case 'PREV':\n        case 'NEXT':\n            if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n                return dateProfile.currentRange.start;\n            }\n            else {\n                return currentDate;\n            }\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            var newDate = action.dateMarker || currentDate;\n            if (dateProfile.activeRange && !rangeContainsMarker(dateProfile.activeRange, newDate)) {\n                return dateProfile.currentRange.start;\n            }\n            else {\n                return newDate;\n            }\n        default:\n            return currentDate;\n    }\n}\nfunction reduceDateSelection(currentSelection, action, calendar) {\n    switch (action.type) {\n        case 'SELECT_DATES':\n            return action.selection;\n        case 'UNSELECT_DATES':\n            return null;\n        default:\n            return currentSelection;\n    }\n}\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        case 'UNSELECT_EVENT':\n            return '';\n        default:\n            return currentInstanceId;\n    }\n}\nfunction reduceEventDrag(currentDrag, action, sources, calendar) {\n    switch (action.type) {\n        case 'SET_EVENT_DRAG':\n            var newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n                origSeg: newDrag.origSeg\n            };\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        default:\n            return currentDrag;\n    }\n}\nfunction reduceEventResize(currentResize, action, sources, calendar) {\n    switch (action.type) {\n        case 'SET_EVENT_RESIZE':\n            var newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n                origSeg: newResize.origSeg\n            };\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        default:\n            return currentResize;\n    }\n}\nfunction computeLoadingLevel(eventSources) {\n    var cnt = 0;\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            cnt++;\n        }\n    }\n    return cnt;\n}\n\nvar STANDARD_PROPS = {\n    start: null,\n    end: null,\n    allDay: Boolean\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        else {\n            range.end = dateEnv.add(range.start, defaultDuration);\n        }\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var leftovers = {};\n    var standardProps = refineProps(raw, STANDARD_PROPS, {}, leftovers);\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    // use this leftover object as the selection object\n    leftovers.range = {\n        start: startMeta ? startMeta.marker : null,\n        end: endMeta ? endMeta.marker : null\n    };\n    leftovers.allDay = allDay;\n    return leftovers;\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return {\n        start: dateEnv.toDate(span.range.start),\n        end: dateEnv.toDate(span.range.end),\n        startStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        endStr: dateEnv.formatIso(span.range.end, { omitTime: span.allDay }),\n        allDay: span.allDay\n    };\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, calendar) {\n    var def = parseEventDef({ editable: false }, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    calendar);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true\n    };\n}\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) {\n        return (defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n            ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null);\n    };\n    var theClass = queryProp('class');\n    var superType = queryProp('superType');\n    if (!superType && theClass) {\n        superType =\n            findViewNameBySubclass(theClass, overrideConfigs) ||\n                findViewNameBySubclass(theClass, defaultConfigs);\n    }\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theClass && superDef) {\n        theClass = superDef.class;\n    }\n    if (!theClass) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        class: theClass,\n        defaults: __assign({}, (superDef ? superDef.defaults : {}), (defaultConfig ? defaultConfig.options : {})),\n        overrides: __assign({}, (superDef ? superDef.overrides : {}), (overrideConfig ? overrideConfig.options : {}))\n    };\n}\nfunction findViewNameBySubclass(viewSubclass, configs) {\n    var superProto = Object.getPrototypeOf(viewSubclass.prototype);\n    for (var viewType in configs) {\n        var parsed = configs[viewType];\n        // need DIRECT subclass, so instanceof won't do it\n        if (parsed.class && parsed.class.prototype === superProto) {\n            return viewType;\n        }\n    }\n    return '';\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nvar VIEW_DEF_PROPS = {\n    type: String,\n    class: null\n};\nfunction parseViewConfig(input) {\n    if (typeof input === 'function') {\n        input = { class: input };\n    }\n    var options = {};\n    var props = refineProps(input, VIEW_DEF_PROPS, {}, options);\n    return {\n        superType: props.type,\n        class: props.class,\n        options: options\n    };\n}\n\nfunction buildViewSpecs(defaultInputs, optionsManager) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionsManager.overrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) {\n        return buildViewSpec(viewDef, overrideConfigs, optionsManager);\n    });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionsManager) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        optionsManager.dynamicOverrides.duration ||\n        optionsManager.overrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDuration(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration, !getWeeksFromInput(durationInput));\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].options : {};\n            }\n        }\n    }\n    var queryButtonText = function (options) {\n        var buttonTextMap = options.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n    };\n    return {\n        type: viewDef.type,\n        class: viewDef.class,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        options: __assign({}, globalDefaults, viewDef.defaults, optionsManager.dirDefaults, optionsManager.localeDefaults, optionsManager.overrides, singleUnitOverrides, viewDef.overrides, optionsManager.dynamicOverrides),\n        buttonTextOverride: queryButtonText(optionsManager.dynamicOverrides) ||\n            queryButtonText(optionsManager.overrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(optionsManager.localeDefaults) ||\n            queryButtonText(optionsManager.dirDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(globalDefaults) ||\n            viewDef.type // fall back to given view name\n    };\n}\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar(extraClassName) {\n        var _this = _super.call(this) || this;\n        _this._renderLayout = memoizeRendering(_this.renderLayout, _this.unrenderLayout);\n        _this._updateTitle = memoizeRendering(_this.updateTitle, null, [_this._renderLayout]);\n        _this._updateActiveButton = memoizeRendering(_this.updateActiveButton, null, [_this._renderLayout]);\n        _this._updateToday = memoizeRendering(_this.updateToday, null, [_this._renderLayout]);\n        _this._updatePrev = memoizeRendering(_this.updatePrev, null, [_this._renderLayout]);\n        _this._updateNext = memoizeRendering(_this.updateNext, null, [_this._renderLayout]);\n        _this.el = createElement('div', { className: 'fc-toolbar ' + extraClassName });\n        return _this;\n    }\n    Toolbar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this._renderLayout.unrender(); // should unrender everything else\n        removeElement(this.el);\n    };\n    Toolbar.prototype.render = function (props) {\n        this._renderLayout(props.layout);\n        this._updateTitle(props.title);\n        this._updateActiveButton(props.activeButton);\n        this._updateToday(props.isTodayEnabled);\n        this._updatePrev(props.isPrevEnabled);\n        this._updateNext(props.isNextEnabled);\n    };\n    Toolbar.prototype.renderLayout = function (layout) {\n        var el = this.el;\n        this.viewsWithButtons = [];\n        appendToElement(el, this.renderSection('left', layout.left));\n        appendToElement(el, this.renderSection('center', layout.center));\n        appendToElement(el, this.renderSection('right', layout.right));\n    };\n    Toolbar.prototype.unrenderLayout = function () {\n        this.el.innerHTML = '';\n    };\n    Toolbar.prototype.renderSection = function (position, buttonStr) {\n        var _this = this;\n        var _a = this.context, theme = _a.theme, calendar = _a.calendar;\n        var optionsManager = calendar.optionsManager;\n        var viewSpecs = calendar.viewSpecs;\n        var sectionEl = createElement('div', { className: 'fc-' + position });\n        var calendarCustomButtons = optionsManager.computed.customButtons || {};\n        var calendarButtonTextOverrides = optionsManager.overrides.buttonText || {};\n        var calendarButtonText = optionsManager.computed.buttonText || {};\n        if (buttonStr) {\n            buttonStr.split(' ').forEach(function (buttonGroupStr, i) {\n                var groupChildren = [];\n                var isOnlyButtons = true;\n                var groupEl;\n                buttonGroupStr.split(',').forEach(function (buttonName, j) {\n                    var customButtonProps;\n                    var viewSpec;\n                    var buttonClick;\n                    var buttonIcon; // only one of these will be set\n                    var buttonText; // \"\n                    var buttonInnerHtml;\n                    var buttonClasses;\n                    var buttonEl;\n                    var buttonAriaAttr;\n                    if (buttonName === 'title') {\n                        groupChildren.push(htmlToElement('<h2>&nbsp;</h2>')); // we always want it to take up height\n                        isOnlyButtons = false;\n                    }\n                    else {\n                        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n                            buttonClick = function (ev) {\n                                if (customButtonProps.click) {\n                                    customButtonProps.click.call(buttonEl, ev);\n                                }\n                            };\n                            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = customButtonProps.text);\n                        }\n                        else if ((viewSpec = viewSpecs[buttonName])) {\n                            _this.viewsWithButtons.push(buttonName);\n                            buttonClick = function () {\n                                calendar.changeView(buttonName);\n                            };\n                            (buttonText = viewSpec.buttonTextOverride) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = viewSpec.buttonTextDefault);\n                        }\n                        else if (calendar[buttonName]) { // a calendar method\n                            buttonClick = function () {\n                                calendar[buttonName]();\n                            };\n                            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = calendarButtonText[buttonName]);\n                            //            ^ everything else is considered default\n                        }\n                        if (buttonClick) {\n                            buttonClasses = [\n                                'fc-' + buttonName + '-button',\n                                theme.getClass('button')\n                            ];\n                            if (buttonText) {\n                                buttonInnerHtml = htmlEscape(buttonText);\n                                buttonAriaAttr = '';\n                            }\n                            else if (buttonIcon) {\n                                buttonInnerHtml = \"<span class='\" + buttonIcon + \"'></span>\";\n                                buttonAriaAttr = ' aria-label=\"' + buttonName + '\"';\n                            }\n                            buttonEl = htmlToElement(// type=\"button\" so that it doesn't submit a form\n                            '<button type=\"button\" class=\"' + buttonClasses.join(' ') + '\"' +\n                                buttonAriaAttr +\n                                '>' + buttonInnerHtml + '</button>');\n                            buttonEl.addEventListener('click', buttonClick);\n                            groupChildren.push(buttonEl);\n                        }\n                    }\n                });\n                if (groupChildren.length > 1) {\n                    groupEl = document.createElement('div');\n                    var buttonGroupClassName = theme.getClass('buttonGroup');\n                    if (isOnlyButtons && buttonGroupClassName) {\n                        groupEl.classList.add(buttonGroupClassName);\n                    }\n                    appendToElement(groupEl, groupChildren);\n                    sectionEl.appendChild(groupEl);\n                }\n                else {\n                    appendToElement(sectionEl, groupChildren); // 1 or 0 children\n                }\n            });\n        }\n        return sectionEl;\n    };\n    Toolbar.prototype.updateToday = function (isTodayEnabled) {\n        this.toggleButtonEnabled('today', isTodayEnabled);\n    };\n    Toolbar.prototype.updatePrev = function (isPrevEnabled) {\n        this.toggleButtonEnabled('prev', isPrevEnabled);\n    };\n    Toolbar.prototype.updateNext = function (isNextEnabled) {\n        this.toggleButtonEnabled('next', isNextEnabled);\n    };\n    Toolbar.prototype.updateTitle = function (text) {\n        findElements(this.el, 'h2').forEach(function (titleEl) {\n            titleEl.innerText = text;\n        });\n    };\n    Toolbar.prototype.updateActiveButton = function (buttonName) {\n        var theme = this.context.theme;\n        var className = theme.getClass('buttonActive');\n        findElements(this.el, 'button').forEach(function (buttonEl) {\n            if (buttonName && buttonEl.classList.contains('fc-' + buttonName + '-button')) {\n                buttonEl.classList.add(className);\n            }\n            else {\n                buttonEl.classList.remove(className);\n            }\n        });\n    };\n    Toolbar.prototype.toggleButtonEnabled = function (buttonName, bool) {\n        findElements(this.el, '.fc-' + buttonName + '-button').forEach(function (buttonEl) {\n            buttonEl.disabled = !bool;\n        });\n    };\n    return Toolbar;\n}(Component));\n\nvar CalendarComponent = /** @class */ (function (_super) {\n    __extends(CalendarComponent, _super);\n    function CalendarComponent(el) {\n        var _this = _super.call(this) || this;\n        _this.elClassNames = [];\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.renderToolbars = memoizeRendering(_this._renderToolbars, _this._unrenderToolbars, [_this.renderSkeleton]);\n        _this.buildComponentContext = memoize(buildComponentContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.el = el;\n        _this.computeTitle = memoize(computeTitle);\n        _this.parseBusinessHours = memoize(function (input) {\n            return parseBusinessHours(input, _this.context.calendar);\n        });\n        return _this;\n    }\n    CalendarComponent.prototype.render = function (props, context) {\n        this.freezeHeight();\n        var title = this.computeTitle(props.dateProfile, props.viewSpec.options);\n        this.renderSkeleton(context);\n        this.renderToolbars(props.viewSpec, props.dateProfile, props.currentDate, title);\n        this.renderView(props, title);\n        this.updateSize();\n        this.thawHeight();\n    };\n    CalendarComponent.prototype.destroy = function () {\n        if (this.header) {\n            this.header.destroy();\n        }\n        if (this.footer) {\n            this.footer.destroy();\n        }\n        this.renderSkeleton.unrender(); // will call destroyView\n        _super.prototype.destroy.call(this);\n    };\n    CalendarComponent.prototype._renderSkeleton = function (context) {\n        this.updateElClassNames(context);\n        prependToElement(this.el, this.contentEl = createElement('div', { className: 'fc-view-container' }));\n        var calendar = context.calendar;\n        for (var _i = 0, _a = calendar.pluginSystem.hooks.viewContainerModifiers; _i < _a.length; _i++) {\n            var modifyViewContainer = _a[_i];\n            modifyViewContainer(this.contentEl, calendar);\n        }\n    };\n    CalendarComponent.prototype._unrenderSkeleton = function () {\n        // weird to have this here\n        if (this.view) {\n            this.savedScroll = this.view.queryScroll();\n            this.view.destroy();\n            this.view = null;\n        }\n        removeElement(this.contentEl);\n        this.removeElClassNames();\n    };\n    CalendarComponent.prototype.removeElClassNames = function () {\n        var classList = this.el.classList;\n        for (var _i = 0, _a = this.elClassNames; _i < _a.length; _i++) {\n            var className = _a[_i];\n            classList.remove(className);\n        }\n        this.elClassNames = [];\n    };\n    CalendarComponent.prototype.updateElClassNames = function (context) {\n        this.removeElClassNames();\n        var theme = context.theme, options = context.options;\n        this.elClassNames = [\n            'fc',\n            'fc-' + options.dir,\n            theme.getClass('widget')\n        ];\n        var classList = this.el.classList;\n        for (var _i = 0, _a = this.elClassNames; _i < _a.length; _i++) {\n            var className = _a[_i];\n            classList.add(className);\n        }\n    };\n    CalendarComponent.prototype._renderToolbars = function (viewSpec, dateProfile, currentDate, title) {\n        var _a = this, context = _a.context, header = _a.header, footer = _a.footer;\n        var options = context.options, calendar = context.calendar;\n        var headerLayout = options.header;\n        var footerLayout = options.footer;\n        var dateProfileGenerator = this.props.dateProfileGenerator;\n        var now = calendar.getNow();\n        var todayInfo = dateProfileGenerator.build(now);\n        var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate);\n        var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate);\n        var toolbarProps = {\n            title: title,\n            activeButton: viewSpec.type,\n            isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n            isPrevEnabled: prevInfo.isValid,\n            isNextEnabled: nextInfo.isValid\n        };\n        if (headerLayout) {\n            if (!header) {\n                header = this.header = new Toolbar('fc-header-toolbar');\n                prependToElement(this.el, header.el);\n            }\n            header.receiveProps(__assign({ layout: headerLayout }, toolbarProps), context);\n        }\n        else if (header) {\n            header.destroy();\n            header = this.header = null;\n        }\n        if (footerLayout) {\n            if (!footer) {\n                footer = this.footer = new Toolbar('fc-footer-toolbar');\n                appendToElement(this.el, footer.el);\n            }\n            footer.receiveProps(__assign({ layout: footerLayout }, toolbarProps), context);\n        }\n        else if (footer) {\n            footer.destroy();\n            footer = this.footer = null;\n        }\n    };\n    CalendarComponent.prototype._unrenderToolbars = function () {\n        if (this.header) {\n            this.header.destroy();\n            this.header = null;\n        }\n        if (this.footer) {\n            this.footer.destroy();\n            this.footer = null;\n        }\n    };\n    CalendarComponent.prototype.renderView = function (props, title) {\n        var view = this.view;\n        var _a = this.context, calendar = _a.calendar, options = _a.options;\n        var viewSpec = props.viewSpec, dateProfileGenerator = props.dateProfileGenerator;\n        if (!view || view.viewSpec !== viewSpec) {\n            if (view) {\n                view.destroy();\n            }\n            view = this.view = new viewSpec['class'](viewSpec, this.contentEl);\n            if (this.savedScroll) {\n                view.addScroll(this.savedScroll, true);\n                this.savedScroll = null;\n            }\n        }\n        view.title = title; // for the API\n        var viewProps = {\n            dateProfileGenerator: dateProfileGenerator,\n            dateProfile: props.dateProfile,\n            businessHours: this.parseBusinessHours(viewSpec.options.businessHours),\n            eventStore: props.eventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize\n        };\n        var transformers = this.buildViewPropTransformers(calendar.pluginSystem.hooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, viewSpec, props, options));\n        }\n        view.receiveProps(viewProps, this.buildComponentContext(this.context, viewSpec, view));\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarComponent.prototype.updateSize = function (isResize) {\n        if (isResize === void 0) { isResize = false; }\n        var view = this.view;\n        if (!view) {\n            return; // why?\n        }\n        if (isResize || this.isHeightAuto == null) {\n            this.computeHeightVars();\n        }\n        view.updateSize(isResize, this.viewHeight, this.isHeightAuto);\n        view.updateNowIndicator(); // we need to guarantee this will run after updateSize\n        view.popScroll(isResize);\n    };\n    CalendarComponent.prototype.computeHeightVars = function () {\n        var calendar = this.context.calendar; // yuck. need to handle dynamic options\n        var heightInput = calendar.opt('height');\n        var contentHeightInput = calendar.opt('contentHeight');\n        this.isHeightAuto = heightInput === 'auto' || contentHeightInput === 'auto';\n        if (typeof contentHeightInput === 'number') { // exists and not 'auto'\n            this.viewHeight = contentHeightInput;\n        }\n        else if (typeof contentHeightInput === 'function') { // exists and is a function\n            this.viewHeight = contentHeightInput();\n        }\n        else if (typeof heightInput === 'number') { // exists and not 'auto'\n            this.viewHeight = heightInput - this.queryToolbarsHeight();\n        }\n        else if (typeof heightInput === 'function') { // exists and is a function\n            this.viewHeight = heightInput() - this.queryToolbarsHeight();\n        }\n        else if (heightInput === 'parent') { // set to height of parent element\n            var parentEl = this.el.parentNode;\n            this.viewHeight = parentEl.getBoundingClientRect().height - this.queryToolbarsHeight();\n        }\n        else {\n            this.viewHeight = Math.round(this.contentEl.getBoundingClientRect().width /\n                Math.max(calendar.opt('aspectRatio'), .5));\n        }\n    };\n    CalendarComponent.prototype.queryToolbarsHeight = function () {\n        var height = 0;\n        if (this.header) {\n            height += computeHeightAndMargins(this.header.el);\n        }\n        if (this.footer) {\n            height += computeHeightAndMargins(this.footer.el);\n        }\n        return height;\n    };\n    // Height \"Freezing\"\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarComponent.prototype.freezeHeight = function () {\n        applyStyle(this.el, {\n            height: this.el.getBoundingClientRect().height,\n            overflow: 'hidden'\n        });\n    };\n    CalendarComponent.prototype.thawHeight = function () {\n        applyStyle(this.el, {\n            height: '',\n            overflow: ''\n        });\n    };\n    return CalendarComponent;\n}(Component));\n// Title and Date Formatting\n// -----------------------------------------------------------------------------------------------------------------\n// Computes what the title at the top of the calendar should be for this view\nfunction computeTitle(dateProfile, viewOptions) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return this.context.dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || computeTitleFormat(dateProfile), viewOptions.titleRangeSeparator), { isEndExclusive: dateProfile.isRangeAllDay });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction computeTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    else if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    else {\n        var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n        if (days !== null && days > 1) {\n            // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n            return { year: 'numeric', month: 'short', day: 'numeric' };\n        }\n        else {\n            // one day. longer, like \"September 9 2014\"\n            return { year: 'numeric', month: 'long', day: 'numeric' };\n        }\n    }\n}\n// build a context scoped to the view\nfunction buildComponentContext(context, viewSpec, view) {\n    return context.extend(viewSpec.options, view);\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (theClass) {\n        return new theClass();\n    });\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var _a = component.context, calendar = _a.calendar, view = _a.view;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-has-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                calendar.publiclyTrigger('eventClick', [\n                    {\n                        el: segEl,\n                        event: new EventApi(component.context.calendar, seg.eventRange.def, seg.eventRange.instance),\n                        jsEvent: ev,\n                        view: view\n                    }\n                ]);\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        var component = settings.component;\n        _this.destroy = listenBySelector(component.el, 'click', component.fgSegSelector + ',' + component.bgSegSelector, _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                segEl.classList.add('fc-allow-mouse-resize');\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                segEl.classList.remove('fc-allow-mouse-resize');\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        var component = settings.component;\n        _this.removeHoverListeners = listenToHoverBySelector(component.el, component.fgSegSelector + ',' + component.bgSegSelector, _this.handleSegEnter, _this.handleSegLeave);\n        // how to make sure component already has context?\n        component.context.calendar.on('eventElRemove', _this.handleEventElRemove);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n        this.component.context.calendar.off('eventElRemove', this.handleEventElRemove);\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var _a = component.context, calendar = _a.calendar, view = _a.view;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            calendar.publiclyTrigger(publicEvName, [\n                {\n                    el: segEl,\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: view\n                }\n            ]);\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    widget: 'fc-unthemed',\n    widgetHeader: 'fc-widget-header',\n    widgetContent: 'fc-widget-content',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n    popoverHeader: 'fc-widget-header',\n    popoverContent: 'fc-widget-content',\n    // day grid\n    headerRow: 'fc-widget-header',\n    dayRow: 'fc-widget-content',\n    // list view\n    listView: 'fc-widget-content'\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right'\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons';\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nvar Calendar = /** @class */ (function () {\n    function Calendar(el, overrides) {\n        var _this = this;\n        this.buildComponentContext = memoize(buildComponentContext$1);\n        this.parseRawLocales = memoize(parseRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.buildEventUiSingleBase = memoize(this._buildEventUiSingleBase);\n        this.buildSelectionConfig = memoize(this._buildSelectionConfig);\n        this.buildEventUiBySource = memoizeOutput(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.interactionsStore = {};\n        this.actionQueue = [];\n        this.isReducing = false;\n        // isDisplaying: boolean = false // installed in DOM? accepting renders?\n        this.needsRerender = false; // needs a render?\n        this.isRendering = false; // currently in the executeRender function?\n        this.renderingPauseDepth = 0;\n        this.buildDelayedRerender = memoize(buildDelayedRerender);\n        this.afterSizingTriggers = {};\n        this.isViewUpdated = false;\n        this.isDatesUpdated = false;\n        this.isEventsUpdated = false;\n        this.el = el;\n        this.optionsManager = new OptionsManager(overrides || {});\n        this.pluginSystem = new PluginSystem();\n        // only do once. don't do in handleOptions. because can't remove plugins\n        this.addPluginInputs(this.optionsManager.computed.plugins || []);\n        this.handleOptions(this.optionsManager.computed);\n        this.publiclyTrigger('_init'); // for tests\n        this.hydrate();\n        this.calendarInteractions = this.pluginSystem.hooks.calendarInteractions\n            .map(function (calendarInteractionClass) {\n            return new calendarInteractionClass(_this);\n        });\n    }\n    Calendar.prototype.addPluginInputs = function (pluginInputs) {\n        var pluginDefs = refinePluginDefs(pluginInputs);\n        for (var _i = 0, pluginDefs_1 = pluginDefs; _i < pluginDefs_1.length; _i++) {\n            var pluginDef = pluginDefs_1[_i];\n            this.pluginSystem.add(pluginDef);\n        }\n    };\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        // public API\n        get: function () {\n            return this.component ? this.component.view : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Public API for rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.render = function () {\n        if (!this.component) {\n            this.component = new CalendarComponent(this.el);\n            this.renderableEventStore = createEmptyEventStore();\n            this.bindHandlers();\n            this.executeRender();\n        }\n        else {\n            this.requestRerender();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.component) {\n            this.unbindHandlers();\n            this.component.destroy(); // don't null-out. in case API needs access\n            this.component = null; // umm ???\n            for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n                var interaction = _a[_i];\n                interaction.destroy();\n            }\n            this.publiclyTrigger('_destroyed');\n        }\n    };\n    // Handlers\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.bindHandlers = function () {\n        var _this = this;\n        // event delegation for nav links\n        this.removeNavLinkListener = listenBySelector(this.el, 'click', 'a[data-goto]', function (ev, anchorEl) {\n            var gotoOptions = anchorEl.getAttribute('data-goto');\n            gotoOptions = gotoOptions ? JSON.parse(gotoOptions) : {};\n            var dateEnv = _this.dateEnv;\n            var dateMarker = dateEnv.createMarker(gotoOptions.date);\n            var viewType = gotoOptions.type;\n            // property like \"navLinkDayClick\". might be a string or a function\n            var customAction = _this.viewOpt('navLink' + capitaliseFirstLetter(viewType) + 'Click');\n            if (typeof customAction === 'function') {\n                customAction(dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                _this.zoomTo(dateMarker, viewType);\n            }\n        });\n        if (this.opt('handleWindowResize')) {\n            window.addEventListener('resize', this.windowResizeProxy = debounce(// prevents rapid calls\n            this.windowResize.bind(this), this.opt('windowResizeDelay')));\n        }\n    };\n    Calendar.prototype.unbindHandlers = function () {\n        this.removeNavLinkListener();\n        if (this.windowResizeProxy) {\n            window.removeEventListener('resize', this.windowResizeProxy);\n            this.windowResizeProxy = null;\n        }\n    };\n    // Dispatcher\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.hydrate = function () {\n        var _this = this;\n        this.state = this.buildInitialState();\n        var rawSources = this.opt('eventSources') || [];\n        var singleRawSource = this.opt('events');\n        var sources = []; // parsed\n        if (singleRawSource) {\n            rawSources.unshift(singleRawSource);\n        }\n        for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n            var rawSource = rawSources_1[_i];\n            var source = parseEventSource(rawSource, this);\n            if (source) {\n                sources.push(source);\n            }\n        }\n        this.batchRendering(function () {\n            _this.dispatch({ type: 'INIT' }); // pass in sources here?\n            _this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: sources });\n            _this.dispatch({\n                type: 'SET_VIEW_TYPE',\n                viewType: _this.opt('defaultView') || _this.pluginSystem.hooks.defaultView\n            });\n        });\n    };\n    Calendar.prototype.buildInitialState = function () {\n        return {\n            viewType: null,\n            loadingLevel: 0,\n            eventSourceLoadingLevel: 0,\n            currentDate: this.getInitialDate(),\n            dateProfile: null,\n            eventSources: {},\n            eventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null\n        };\n    };\n    Calendar.prototype.dispatch = function (action) {\n        this.actionQueue.push(action);\n        if (!this.isReducing) {\n            this.isReducing = true;\n            var oldState = this.state;\n            while (this.actionQueue.length) {\n                this.state = this.reduce(this.state, this.actionQueue.shift(), this);\n            }\n            var newState = this.state;\n            this.isReducing = false;\n            if (!oldState.loadingLevel && newState.loadingLevel) {\n                this.publiclyTrigger('loading', [true]);\n            }\n            else if (oldState.loadingLevel && !newState.loadingLevel) {\n                this.publiclyTrigger('loading', [false]);\n            }\n            var view = this.component && this.component.view;\n            if (oldState.eventStore !== newState.eventStore) {\n                if (oldState.eventStore) {\n                    this.isEventsUpdated = true;\n                }\n            }\n            if (oldState.dateProfile !== newState.dateProfile) {\n                if (oldState.dateProfile && view) { // why would view be null!?\n                    this.publiclyTrigger('datesDestroy', [\n                        {\n                            view: view,\n                            el: view.el\n                        }\n                    ]);\n                }\n                this.isDatesUpdated = true;\n            }\n            if (oldState.viewType !== newState.viewType) {\n                if (oldState.viewType && view) { // why would view be null!?\n                    this.publiclyTrigger('viewSkeletonDestroy', [\n                        {\n                            view: view,\n                            el: view.el\n                        }\n                    ]);\n                }\n                this.isViewUpdated = true;\n            }\n            this.requestRerender();\n        }\n    };\n    Calendar.prototype.reduce = function (state, action, calendar) {\n        return reduce(state, action, calendar);\n    };\n    // Render Queue\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.requestRerender = function () {\n        this.needsRerender = true;\n        this.delayedRerender(); // will call a debounced-version of tryRerender\n    };\n    Calendar.prototype.tryRerender = function () {\n        if (this.component && // must be accepting renders\n            this.needsRerender && // indicates that a rerender was requested\n            !this.renderingPauseDepth && // not paused\n            !this.isRendering // not currently in the render loop\n        ) {\n            this.executeRender();\n        }\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderingPauseDepth++;\n        func();\n        this.renderingPauseDepth--;\n        if (this.needsRerender) {\n            this.requestRerender();\n        }\n    };\n    // Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.executeRender = function () {\n        // clear these BEFORE the render so that new values will accumulate during render\n        this.needsRerender = false;\n        this.isRendering = true;\n        this.renderComponent();\n        this.isRendering = false;\n        // received a rerender request while rendering\n        if (this.needsRerender) {\n            this.delayedRerender();\n        }\n    };\n    /*\n    don't call this directly. use executeRender instead\n    */\n    Calendar.prototype.renderComponent = function () {\n        var _a = this, state = _a.state, component = _a.component;\n        var viewType = state.viewType;\n        var viewSpec = this.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"View type \\\"\" + viewType + \"\\\" is not valid\");\n        }\n        // if event sources are still loading and progressive rendering hasn't been enabled,\n        // keep rendering the last fully loaded set of events\n        var renderableEventStore = this.renderableEventStore =\n            (state.eventSourceLoadingLevel && !this.opt('progressiveEventRendering')) ?\n                this.renderableEventStore :\n                state.eventStore;\n        var eventUiSingleBase = this.buildEventUiSingleBase(viewSpec.options);\n        var eventUiBySource = this.buildEventUiBySource(state.eventSources);\n        var eventUiBases = this.eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        component.receiveProps(__assign({}, state, { viewSpec: viewSpec, dateProfileGenerator: this.dateProfileGenerators[viewType], dateProfile: state.dateProfile, eventStore: renderableEventStore, eventUiBases: eventUiBases, dateSelection: state.dateSelection, eventSelection: state.eventSelection, eventDrag: state.eventDrag, eventResize: state.eventResize }), this.buildComponentContext(this.theme, this.dateEnv, this.optionsManager.computed));\n        if (this.isViewUpdated) {\n            this.isViewUpdated = false;\n            this.publiclyTrigger('viewSkeletonRender', [\n                {\n                    view: component.view,\n                    el: component.view.el\n                }\n            ]);\n        }\n        if (this.isDatesUpdated) {\n            this.isDatesUpdated = false;\n            this.publiclyTrigger('datesRender', [\n                {\n                    view: component.view,\n                    el: component.view.el\n                }\n            ]);\n        }\n        if (this.isEventsUpdated) {\n            this.isEventsUpdated = false;\n        }\n        this.releaseAfterSizingTriggers();\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.setOption = function (name, val) {\n        var _a;\n        this.mutateOptions((_a = {}, _a[name] = val, _a), [], true);\n    };\n    Calendar.prototype.getOption = function (name) {\n        return this.optionsManager.computed[name];\n    };\n    Calendar.prototype.opt = function (name) {\n        return this.optionsManager.computed[name];\n    };\n    Calendar.prototype.viewOpt = function (name) {\n        return this.viewOpts()[name];\n    };\n    Calendar.prototype.viewOpts = function () {\n        return this.viewSpecs[this.state.viewType].options;\n    };\n    /*\n    handles option changes (like a diff)\n    */\n    Calendar.prototype.mutateOptions = function (updates, removals, isDynamic, deepEqual) {\n        var _this = this;\n        var changeHandlers = this.pluginSystem.hooks.optionChangeHandlers;\n        var normalUpdates = {};\n        var specialUpdates = {};\n        var oldDateEnv = this.dateEnv; // do this before handleOptions\n        var isTimeZoneDirty = false;\n        var isSizeDirty = false;\n        var anyDifficultOptions = Boolean(removals.length);\n        for (var name_1 in updates) {\n            if (changeHandlers[name_1]) {\n                specialUpdates[name_1] = updates[name_1];\n            }\n            else {\n                normalUpdates[name_1] = updates[name_1];\n            }\n        }\n        for (var name_2 in normalUpdates) {\n            if (/^(height|contentHeight|aspectRatio)$/.test(name_2)) {\n                isSizeDirty = true;\n            }\n            else if (/^(defaultDate|defaultView)$/.test(name_2)) ;\n            else {\n                anyDifficultOptions = true;\n                if (name_2 === 'timeZone') {\n                    isTimeZoneDirty = true;\n                }\n            }\n        }\n        this.optionsManager.mutate(normalUpdates, removals, isDynamic);\n        if (anyDifficultOptions) {\n            this.handleOptions(this.optionsManager.computed);\n        }\n        this.batchRendering(function () {\n            if (anyDifficultOptions) {\n                if (isTimeZoneDirty) {\n                    _this.dispatch({\n                        type: 'CHANGE_TIMEZONE',\n                        oldDateEnv: oldDateEnv\n                    });\n                }\n                /* HACK\n                has the same effect as calling this.requestRerender()\n                but recomputes the state's dateProfile\n                */\n                _this.dispatch({\n                    type: 'SET_VIEW_TYPE',\n                    viewType: _this.state.viewType\n                });\n            }\n            else if (isSizeDirty) {\n                _this.updateSize();\n            }\n            // special updates\n            if (deepEqual) {\n                for (var name_3 in specialUpdates) {\n                    changeHandlers[name_3](specialUpdates[name_3], _this, deepEqual);\n                }\n            }\n        });\n    };\n    /*\n    rebuilds things based off of a complete set of refined options\n    */\n    Calendar.prototype.handleOptions = function (options) {\n        var _this = this;\n        var pluginHooks = this.pluginSystem.hooks;\n        this.defaultAllDayEventDuration = createDuration(options.defaultAllDayEventDuration);\n        this.defaultTimedEventDuration = createDuration(options.defaultTimedEventDuration);\n        this.delayedRerender = this.buildDelayedRerender(options.rerenderDelay);\n        this.theme = this.buildTheme(options);\n        var available = this.parseRawLocales(options.locales);\n        this.availableRawLocales = available.map;\n        var locale = this.buildLocale(options.locale || available.defaultCode, available.map);\n        this.dateEnv = this.buildDateEnv(locale, options.timeZone, pluginHooks.namedTimeZonedImpl, options.firstDay, options.weekNumberCalculation, options.weekLabel, pluginHooks.cmdFormatter);\n        this.selectionConfig = this.buildSelectionConfig(options); // needs dateEnv. do after :(\n        // ineffecient to do every time?\n        this.viewSpecs = buildViewSpecs(pluginHooks.views, this.optionsManager);\n        // ineffecient to do every time?\n        this.dateProfileGenerators = mapHash(this.viewSpecs, function (viewSpec) {\n            return new viewSpec.class.prototype.dateProfileGeneratorClass(viewSpec, _this);\n        });\n    };\n    Calendar.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.availableRawLocales);\n    };\n    Calendar.prototype._buildSelectionConfig = function (rawOpts) {\n        return processScopedUiProps('select', rawOpts, this);\n    };\n    Calendar.prototype._buildEventUiSingleBase = function (rawOpts) {\n        if (rawOpts.editable) { // so 'editable' affected events\n            rawOpts = __assign({}, rawOpts, { eventEditable: true });\n        }\n        return processScopedUiProps('event', rawOpts, this);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.hasPublicHandlers = function (name) {\n        return this.hasHandlers(name) ||\n            this.opt(name); // handler specified in options\n    };\n    Calendar.prototype.publiclyTrigger = function (name, args) {\n        var optHandler = this.opt(name);\n        this.triggerWith(name, this, args);\n        if (optHandler) {\n            return optHandler.apply(this, args);\n        }\n    };\n    Calendar.prototype.publiclyTriggerAfterSizing = function (name, args) {\n        var afterSizingTriggers = this.afterSizingTriggers;\n        (afterSizingTriggers[name] || (afterSizingTriggers[name] = [])).push(args);\n    };\n    Calendar.prototype.releaseAfterSizingTriggers = function () {\n        var afterSizingTriggers = this.afterSizingTriggers;\n        for (var name_4 in afterSizingTriggers) {\n            for (var _i = 0, _a = afterSizingTriggers[name_4]; _i < _a.length; _i++) {\n                var args = _a[_i];\n                this.publiclyTrigger(name_4, args);\n            }\n        }\n        this.afterSizingTriggers = {};\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    // Returns a boolean about whether the view is okay to instantiate at some point\n    Calendar.prototype.isValidViewType = function (viewType) {\n        return Boolean(this.viewSpecs[viewType]);\n    };\n    Calendar.prototype.changeView = function (viewType, dateOrRange) {\n        var dateMarker = null;\n        if (dateOrRange) {\n            if (dateOrRange.start && dateOrRange.end) { // a range\n                this.optionsManager.mutate({ visibleRange: dateOrRange }, []); // will not rerender\n                this.handleOptions(this.optionsManager.computed); // ...but yuck\n            }\n            else { // a date\n                dateMarker = this.dateEnv.createMarker(dateOrRange); // just like gotoDate\n            }\n        }\n        this.unselect();\n        this.dispatch({\n            type: 'SET_VIEW_TYPE',\n            viewType: viewType,\n            dateMarker: dateMarker\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    Calendar.prototype.zoomTo = function (dateMarker, viewType) {\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = this.viewSpecs[viewType] ||\n            this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'SET_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'SET_DATE',\n                dateMarker: dateMarker\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    Calendar.prototype.getUnitViewSpec = function (unit) {\n        var component = this.component;\n        var viewTypes = [];\n        var i;\n        var spec;\n        // put views that have buttons first. there will be duplicates, but oh\n        if (component.header) {\n            viewTypes.push.apply(viewTypes, component.header.viewsWithButtons);\n        }\n        if (component.footer) {\n            viewTypes.push.apply(viewTypes, component.footer.viewsWithButtons);\n        }\n        for (var viewType in this.viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i++) {\n            spec = this.viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.getInitialDate = function () {\n        var defaultDateInput = this.opt('defaultDate');\n        // compute the initial ambig-timezone date\n        if (defaultDateInput != null) {\n            return this.dateEnv.createMarker(defaultDateInput);\n        }\n        else {\n            return this.getNow(); // getNow already returns unzoned\n        }\n    };\n    Calendar.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    Calendar.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    Calendar.prototype.prevYear = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.addYears(this.state.currentDate, -1)\n        });\n    };\n    Calendar.prototype.nextYear = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.addYears(this.state.currentDate, 1)\n        });\n    };\n    Calendar.prototype.today = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.getNow()\n        });\n    };\n    Calendar.prototype.gotoDate = function (zonedDateInput) {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.createMarker(zonedDateInput)\n        });\n    };\n    Calendar.prototype.incrementDate = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'SET_DATE',\n                dateMarker: this.dateEnv.add(this.state.currentDate, delta)\n            });\n        }\n    };\n    // for external API\n    Calendar.prototype.getDate = function () {\n        return this.dateEnv.toDate(this.state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    Calendar.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings, this.opt('defaultRangeSeparator')), settings);\n    };\n    Calendar.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.windowResize = function (ev) {\n        if (!this.isHandlingWindowResize &&\n            this.component && // why?\n            ev.target === window // not a jqui resize event\n        ) {\n            this.isHandlingWindowResize = true;\n            this.updateSize();\n            this.publiclyTrigger('windowResize', [this.view]);\n            this.isHandlingWindowResize = false;\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        if (this.component) { // when?\n            this.component.updateSize(true);\n        }\n    };\n    // Component Registration\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.registerInteractiveComponent = function (component, settingsInput) {\n        var settings = parseInteractionSettings(component, settingsInput);\n        var DEFAULT_INTERACTIONS = [\n            EventClicking,\n            EventHovering\n        ];\n        var interactionClasses = DEFAULT_INTERACTIONS.concat(this.pluginSystem.hooks.componentInteractions);\n        var interactions = interactionClasses.map(function (interactionClass) {\n            return new interactionClass(settings);\n        });\n        this.interactionsStore[component.uid] = interactions;\n        interactionSettingsStore[component.uid] = settings;\n    };\n    Calendar.prototype.unregisterInteractiveComponent = function (component) {\n        for (var _i = 0, _a = this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener.destroy();\n        }\n        delete this.interactionsStore[component.uid];\n        delete interactionSettingsStore[component.uid];\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    Calendar.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate\n            };\n        }\n        var selection = parseDateSpan(selectionInput, this.dateEnv, createDuration({ days: 1 }) // TODO: cache this?\n        );\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            this.triggerDateSelect(selection);\n        }\n    };\n    // public method\n    Calendar.prototype.unselect = function (pev) {\n        if (this.state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            this.triggerDateUnselect(pev);\n        }\n    };\n    Calendar.prototype.triggerDateSelect = function (selection, pev) {\n        var arg = __assign({}, this.buildDateSpanApi(selection), { jsEvent: pev ? pev.origEvent : null, view: this.view });\n        this.publiclyTrigger('select', [arg]);\n    };\n    Calendar.prototype.triggerDateUnselect = function (pev) {\n        this.publiclyTrigger('unselect', [\n            {\n                jsEvent: pev ? pev.origEvent : null,\n                view: this.view\n            }\n        ]);\n    };\n    // TODO: receive pev?\n    Calendar.prototype.triggerDateClick = function (dateSpan, dayEl, view, ev) {\n        var arg = __assign({}, this.buildDatePointApi(dateSpan), { dayEl: dayEl, jsEvent: ev, // Is this always a mouse event? See #4655\n            view: view });\n        this.publiclyTrigger('dateClick', [arg]);\n    };\n    Calendar.prototype.buildDatePointApi = function (dateSpan) {\n        var props = {};\n        for (var _i = 0, _a = this.pluginSystem.hooks.datePointTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan, this));\n        }\n        __assign(props, buildDatePointApi(dateSpan, this.dateEnv));\n        return props;\n    };\n    Calendar.prototype.buildDateSpanApi = function (dateSpan) {\n        var props = {};\n        for (var _i = 0, _a = this.pluginSystem.hooks.dateSpanTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan, this));\n        }\n        __assign(props, buildDateSpanApi(dateSpan, this.dateEnv));\n        return props;\n    };\n    // Date Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    // Returns a DateMarker for the current date, as defined by the client's computer or from the `now` option\n    Calendar.prototype.getNow = function () {\n        var now = this.opt('now');\n        if (typeof now === 'function') {\n            now = now();\n        }\n        if (now == null) {\n            return this.dateEnv.createNowMarker();\n        }\n        return this.dateEnv.createMarker(now);\n    };\n    // Event-Date Utilities\n    // -----------------------------------------------------------------------------------------------------------------\n    // Given an event's allDay status and start date, return what its fallback end date should be.\n    // TODO: rename to computeDefaultEventEnd\n    Calendar.prototype.getDefaultEventEnd = function (allDay, marker) {\n        var end = marker;\n        if (allDay) {\n            end = startOfDay(end);\n            end = this.dateEnv.add(end, this.defaultAllDayEventDuration);\n        }\n        else {\n            end = this.dateEnv.add(end, this.defaultTimedEventDuration);\n        }\n        return end;\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            // not already present? don't want to add an old snapshot\n            if (!this.state.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }) // TODO: better util for two args?\n                });\n            }\n            return eventInput;\n        }\n        var sourceId;\n        if (sourceInput instanceof EventSourceApi) {\n            sourceId = sourceInput.internalEventSource.sourceId;\n        }\n        else if (sourceInput != null) {\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn('Could not find an event source with ID \"' + sourceInput + '\"'); // TODO: test\n                return null;\n            }\n            else {\n                sourceId = sourceApi.internalEventSource.sourceId;\n            }\n        }\n        var tuple = parseEvent(eventInput, sourceId, this);\n        if (tuple) {\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple)\n            });\n            return new EventApi(this, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n        }\n        return null;\n    };\n    // TODO: optimize\n    Calendar.prototype.getEventById = function (id) {\n        var _a = this.state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(this, def, null);\n                }\n                else {\n                    for (var instanceId in instances) {\n                        var instance = instances[instanceId];\n                        if (instance.defId === def.defId) {\n                            return new EventApi(this, def, instance);\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    Calendar.prototype.getEvents = function () {\n        var _a = this.state.eventStore, defs = _a.defs, instances = _a.instances;\n        var eventApis = [];\n        for (var id in instances) {\n            var instance = instances[id];\n            var def = defs[instance.defId];\n            eventApis.push(new EventApi(this, def, instance));\n        }\n        return eventApis;\n    };\n    Calendar.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    Calendar.prototype.rerenderEvents = function () {\n        this.dispatch({ type: 'RESET_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.getEventSources = function () {\n        var sourceHash = this.state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(this, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    Calendar.prototype.getEventSourceById = function (id) {\n        var sourceHash = this.state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(this, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    Calendar.prototype.addEventSource = function (sourceInput) {\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!this.state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource]\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, this);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(this, eventSource);\n        }\n        return null;\n    };\n    Calendar.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    Calendar.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES' });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.scrollToTime = function (timeInput) {\n        var duration = createDuration(timeInput);\n        if (duration) {\n            this.component.view.scrollToDuration(duration);\n        }\n    };\n    return Calendar;\n}());\nEmitterMixin.mixInto(Calendar);\n// for memoizers\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildComponentContext$1(theme, dateEnv, options) {\n    return new ComponentContext(this, theme, dateEnv, options, null);\n}\nfunction buildDateEnv(locale, timeZone, namedTimeZoneImpl, firstDay, weekNumberCalculation, weekLabel, cmdFormatter) {\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: namedTimeZoneImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekLabel: weekLabel,\n        cmdFormatter: cmdFormatter\n    });\n}\nfunction buildTheme(calendarOptions) {\n    var themeClass = this.pluginSystem.hooks.themeClasses[calendarOptions.themeSystem] || StandardTheme;\n    return new themeClass(calendarOptions);\n}\nfunction buildDelayedRerender(wait) {\n    var func = this.tryRerender.bind(this);\n    if (wait != null) {\n        func = debounce(func, wait);\n    }\n    return func;\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) {\n        return eventSource.ui;\n    });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\n\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View(viewSpec, parentEl) {\n        var _this = _super.call(this, createElement('div', { className: 'fc-view fc-' + viewSpec.type + '-view' })) || this;\n        _this.renderDatesMem = memoizeRendering(_this.renderDatesWrap, _this.unrenderDatesWrap);\n        _this.renderBusinessHoursMem = memoizeRendering(_this.renderBusinessHours, _this.unrenderBusinessHours, [_this.renderDatesMem]);\n        _this.renderDateSelectionMem = memoizeRendering(_this.renderDateSelectionWrap, _this.unrenderDateSelectionWrap, [_this.renderDatesMem]);\n        _this.renderEventsMem = memoizeRendering(_this.renderEvents, _this.unrenderEvents, [_this.renderDatesMem]);\n        _this.renderEventSelectionMem = memoizeRendering(_this.renderEventSelectionWrap, _this.unrenderEventSelectionWrap, [_this.renderEventsMem]);\n        _this.renderEventDragMem = memoizeRendering(_this.renderEventDragWrap, _this.unrenderEventDragWrap, [_this.renderDatesMem]);\n        _this.renderEventResizeMem = memoizeRendering(_this.renderEventResizeWrap, _this.unrenderEventResizeWrap, [_this.renderDatesMem]);\n        _this.viewSpec = viewSpec;\n        _this.type = viewSpec.type;\n        parentEl.appendChild(_this.el);\n        _this.initialize();\n        return _this;\n    }\n    View.prototype.initialize = function () {\n    };\n    Object.defineProperty(View.prototype, \"activeStart\", {\n        // Date Setting/Unsetting\n        // -----------------------------------------------------------------------------------------------------------------\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.start);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"activeEnd\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.end);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"currentStart\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.start);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"currentEnd\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.end);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // General Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.render = function (props, context) {\n        this.renderDatesMem(props.dateProfile);\n        this.renderBusinessHoursMem(props.businessHours);\n        this.renderDateSelectionMem(props.dateSelection);\n        this.renderEventsMem(props.eventStore);\n        this.renderEventSelectionMem(props.eventSelection);\n        this.renderEventDragMem(props.eventDrag);\n        this.renderEventResizeMem(props.eventResize);\n    };\n    View.prototype.beforeUpdate = function () {\n        this.addScroll(this.queryScroll());\n    };\n    View.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderDatesMem.unrender(); // should unrender everything else\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.updateSize = function (isResize, viewHeight, isAuto) {\n        var calendar = this.context.calendar;\n        if (isResize) {\n            this.addScroll(this.queryScroll()); // NOTE: same code as in beforeUpdate\n        }\n        if (isResize || // HACKS...\n            calendar.isViewUpdated ||\n            calendar.isDatesUpdated ||\n            calendar.isEventsUpdated) {\n            // sort of the catch-all sizing\n            // anything that might cause dimension changes\n            this.updateBaseSize(isResize, viewHeight, isAuto);\n        }\n        // NOTE: popScroll is called by CalendarComponent\n    };\n    View.prototype.updateBaseSize = function (isResize, viewHeight, isAuto) {\n    };\n    // Date Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderDatesWrap = function (dateProfile) {\n        this.renderDates(dateProfile);\n        this.addScroll({\n            duration: createDuration(this.context.options.scrollTime)\n        });\n    };\n    View.prototype.unrenderDatesWrap = function () {\n        this.stopNowIndicator();\n        this.unrenderDates();\n    };\n    View.prototype.renderDates = function (dateProfile) { };\n    View.prototype.unrenderDates = function () { };\n    // Business Hours\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderBusinessHours = function (businessHours) { };\n    View.prototype.unrenderBusinessHours = function () { };\n    // Date Selection\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderDateSelectionWrap = function (selection) {\n        if (selection) {\n            this.renderDateSelection(selection);\n        }\n    };\n    View.prototype.unrenderDateSelectionWrap = function (selection) {\n        if (selection) {\n            this.unrenderDateSelection(selection);\n        }\n    };\n    View.prototype.renderDateSelection = function (selection) { };\n    View.prototype.unrenderDateSelection = function (selection) { };\n    // Event Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEvents = function (eventStore) { };\n    View.prototype.unrenderEvents = function () { };\n    // util for subclasses\n    View.prototype.sliceEvents = function (eventStore, allDay) {\n        var props = this.props;\n        return sliceEventStore(eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? this.context.nextDayThreshold : null).fg;\n    };\n    // Event Selection\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventSelectionWrap = function (instanceId) {\n        if (instanceId) {\n            this.renderEventSelection(instanceId);\n        }\n    };\n    View.prototype.unrenderEventSelectionWrap = function (instanceId) {\n        if (instanceId) {\n            this.unrenderEventSelection(instanceId);\n        }\n    };\n    View.prototype.renderEventSelection = function (instanceId) { };\n    View.prototype.unrenderEventSelection = function (instanceId) { };\n    // Event Drag\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventDragWrap = function (state) {\n        if (state) {\n            this.renderEventDrag(state);\n        }\n    };\n    View.prototype.unrenderEventDragWrap = function (state) {\n        if (state) {\n            this.unrenderEventDrag(state);\n        }\n    };\n    View.prototype.renderEventDrag = function (state) { };\n    View.prototype.unrenderEventDrag = function (state) { };\n    // Event Resize\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventResizeWrap = function (state) {\n        if (state) {\n            this.renderEventResize(state);\n        }\n    };\n    View.prototype.unrenderEventResizeWrap = function (state) {\n        if (state) {\n            this.unrenderEventResize(state);\n        }\n    };\n    View.prototype.renderEventResize = function (state) { };\n    View.prototype.unrenderEventResize = function (state) { };\n    /* Now Indicator\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Immediately render the current time indicator and begins re-rendering it at an interval,\n    // which is defined by this.getNowIndicatorUnit().\n    // TODO: somehow do this for the current whole day's background too\n    // USAGE: must be called manually from subclasses' render methods! don't need to call stopNowIndicator tho\n    View.prototype.startNowIndicator = function (dateProfile, dateProfileGenerator) {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, dateEnv = _a.dateEnv, options = _a.options;\n        var unit;\n        var update;\n        var delay; // ms wait value\n        if (options.nowIndicator && !this.initialNowDate) {\n            unit = this.getNowIndicatorUnit(dateProfile, dateProfileGenerator);\n            if (unit) {\n                update = this.updateNowIndicator.bind(this);\n                this.initialNowDate = calendar.getNow();\n                this.initialNowQueriedMs = new Date().valueOf();\n                // wait until the beginning of the next interval\n                delay = dateEnv.add(dateEnv.startOf(this.initialNowDate, unit), createDuration(1, unit)).valueOf() - this.initialNowDate.valueOf();\n                // TODO: maybe always use setTimeout, waiting until start of next unit\n                this.nowIndicatorTimeoutID = setTimeout(function () {\n                    _this.nowIndicatorTimeoutID = null;\n                    update();\n                    if (unit === 'second') {\n                        delay = 1000; // every second\n                    }\n                    else {\n                        delay = 1000 * 60; // otherwise, every minute\n                    }\n                    _this.nowIndicatorIntervalID = setInterval(update, delay); // update every interval\n                }, delay);\n            }\n            // rendering will be initiated in updateSize\n        }\n    };\n    // rerenders the now indicator, computing the new current time from the amount of time that has passed\n    // since the initial getNow call.\n    View.prototype.updateNowIndicator = function () {\n        if (this.props.dateProfile && // a way to determine if dates were rendered yet\n            this.initialNowDate // activated before?\n        ) {\n            this.unrenderNowIndicator(); // won't unrender if unnecessary\n            this.renderNowIndicator(addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs));\n            this.isNowIndicatorRendered = true;\n        }\n    };\n    // Immediately unrenders the view's current time indicator and stops any re-rendering timers.\n    // Won't cause side effects if indicator isn't rendered.\n    View.prototype.stopNowIndicator = function () {\n        if (this.nowIndicatorTimeoutID) {\n            clearTimeout(this.nowIndicatorTimeoutID);\n            this.nowIndicatorTimeoutID = null;\n        }\n        if (this.nowIndicatorIntervalID) {\n            clearInterval(this.nowIndicatorIntervalID);\n            this.nowIndicatorIntervalID = null;\n        }\n        if (this.isNowIndicatorRendered) {\n            this.unrenderNowIndicator();\n            this.isNowIndicatorRendered = false;\n        }\n    };\n    View.prototype.getNowIndicatorUnit = function (dateProfile, dateProfileGenerator) {\n        // subclasses should implement\n    };\n    // Renders a current time indicator at the given datetime\n    View.prototype.renderNowIndicator = function (date) {\n        // SUBCLASSES MUST PASS TO CHILDREN!\n    };\n    // Undoes the rendering actions from renderNowIndicator\n    View.prototype.unrenderNowIndicator = function () {\n        // SUBCLASSES MUST PASS TO CHILDREN!\n    };\n    /* Scroller\n    ------------------------------------------------------------------------------------------------------------------*/\n    View.prototype.addScroll = function (scroll, isForced) {\n        if (isForced) {\n            scroll.isForced = isForced;\n        }\n        __assign(this.queuedScroll || (this.queuedScroll = {}), scroll);\n    };\n    View.prototype.popScroll = function (isResize) {\n        this.applyQueuedScroll(isResize);\n        this.queuedScroll = null;\n    };\n    View.prototype.applyQueuedScroll = function (isResize) {\n        if (this.queuedScroll) {\n            this.applyScroll(this.queuedScroll, isResize);\n        }\n    };\n    View.prototype.queryScroll = function () {\n        var scroll = {};\n        if (this.props.dateProfile) { // dates rendered yet?\n            __assign(scroll, this.queryDateScroll());\n        }\n        return scroll;\n    };\n    View.prototype.applyScroll = function (scroll, isResize) {\n        var duration = scroll.duration, isForced = scroll.isForced;\n        if (duration != null && !isForced) {\n            delete scroll.duration;\n            if (this.props.dateProfile) { // dates rendered yet?\n                __assign(scroll, this.computeDateScroll(duration));\n            }\n        }\n        if (this.props.dateProfile) { // dates rendered yet?\n            this.applyDateScroll(scroll);\n        }\n    };\n    View.prototype.computeDateScroll = function (duration) {\n        return {}; // subclasses must implement\n    };\n    View.prototype.queryDateScroll = function () {\n        return {}; // subclasses must implement\n    };\n    View.prototype.applyDateScroll = function (scroll) {\n        // subclasses must implement\n    };\n    // for API\n    View.prototype.scrollToDuration = function (duration) {\n        this.applyScroll({ duration: duration }, false);\n    };\n    return View;\n}(DateComponent));\nEmitterMixin.mixInto(View);\nView.prototype.usesMinMaxTime = false;\nView.prototype.dateProfileGeneratorClass = DateProfileGenerator;\n\nvar FgEventRenderer = /** @class */ (function () {\n    function FgEventRenderer() {\n        this.segs = [];\n        this.isSizeDirty = false;\n    }\n    FgEventRenderer.prototype.renderSegs = function (context, segs, mirrorInfo) {\n        this.context = context;\n        this.rangeUpdated(); // called too frequently :(\n        // render an `.el` on each seg\n        // returns a subset of the segs. segs that were actually rendered\n        segs = this.renderSegEls(segs, mirrorInfo);\n        this.segs = segs;\n        this.attachSegs(segs, mirrorInfo);\n        this.isSizeDirty = true;\n        triggerRenderedSegs(this.context, this.segs, Boolean(mirrorInfo));\n    };\n    FgEventRenderer.prototype.unrender = function (context, _segs, mirrorInfo) {\n        triggerWillRemoveSegs(this.context, this.segs, Boolean(mirrorInfo));\n        this.detachSegs(this.segs);\n        this.segs = [];\n    };\n    // Updates values that rely on options and also relate to range\n    FgEventRenderer.prototype.rangeUpdated = function () {\n        var options = this.context.options;\n        var displayEventTime;\n        var displayEventEnd;\n        this.eventTimeFormat = createFormatter(options.eventTimeFormat || this.computeEventTimeFormat(), options.defaultRangeSeparator);\n        displayEventTime = options.displayEventTime;\n        if (displayEventTime == null) {\n            displayEventTime = this.computeDisplayEventTime(); // might be based off of range\n        }\n        displayEventEnd = options.displayEventEnd;\n        if (displayEventEnd == null) {\n            displayEventEnd = this.computeDisplayEventEnd(); // might be based off of range\n        }\n        this.displayEventTime = displayEventTime;\n        this.displayEventEnd = displayEventEnd;\n    };\n    // Renders and assigns an `el` property for each foreground event segment.\n    // Only returns segments that successfully rendered.\n    FgEventRenderer.prototype.renderSegEls = function (segs, mirrorInfo) {\n        var html = '';\n        var i;\n        if (segs.length) { // don't build an empty html string\n            // build a large concatenation of event segment HTML\n            for (i = 0; i < segs.length; i++) {\n                html += this.renderSegHtml(segs[i], mirrorInfo);\n            }\n            // Grab individual elements from the combined HTML string. Use each as the default rendering.\n            // Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\n            htmlToElements(html).forEach(function (el, i) {\n                var seg = segs[i];\n                if (el) {\n                    seg.el = el;\n                }\n            });\n            segs = filterSegsViaEls(this.context, segs, Boolean(mirrorInfo));\n        }\n        return segs;\n    };\n    // Generic utility for generating the HTML classNames for an event segment's element\n    FgEventRenderer.prototype.getSegClasses = function (seg, isDraggable, isResizable, mirrorInfo) {\n        var classes = [\n            'fc-event',\n            seg.isStart ? 'fc-start' : 'fc-not-start',\n            seg.isEnd ? 'fc-end' : 'fc-not-end'\n        ].concat(seg.eventRange.ui.classNames);\n        if (isDraggable) {\n            classes.push('fc-draggable');\n        }\n        if (isResizable) {\n            classes.push('fc-resizable');\n        }\n        if (mirrorInfo) {\n            classes.push('fc-mirror');\n            if (mirrorInfo.isDragging) {\n                classes.push('fc-dragging');\n            }\n            if (mirrorInfo.isResizing) {\n                classes.push('fc-resizing');\n            }\n        }\n        return classes;\n    };\n    // Compute the text that should be displayed on an event's element.\n    // `range` can be the Event object itself, or something range-like, with at least a `start`.\n    // If event times are disabled, or the event has no time, will return a blank string.\n    // If not specified, formatter will default to the eventTimeFormat setting,\n    // and displayEnd will default to the displayEventEnd setting.\n    FgEventRenderer.prototype.getTimeText = function (eventRange, formatter, displayEnd) {\n        var def = eventRange.def, instance = eventRange.instance;\n        return this._getTimeText(instance.range.start, def.hasEnd ? instance.range.end : null, def.allDay, formatter, displayEnd, instance.forcedStartTzo, instance.forcedEndTzo);\n    };\n    FgEventRenderer.prototype._getTimeText = function (start, end, allDay, formatter, displayEnd, forcedStartTzo, forcedEndTzo) {\n        var dateEnv = this.context.dateEnv;\n        if (formatter == null) {\n            formatter = this.eventTimeFormat;\n        }\n        if (displayEnd == null) {\n            displayEnd = this.displayEventEnd;\n        }\n        if (this.displayEventTime && !allDay) {\n            if (displayEnd && end) {\n                return dateEnv.formatRange(start, end, formatter, {\n                    forcedStartTzo: forcedStartTzo,\n                    forcedEndTzo: forcedEndTzo\n                });\n            }\n            else {\n                return dateEnv.format(start, formatter, {\n                    forcedTzo: forcedStartTzo\n                });\n            }\n        }\n        return '';\n    };\n    FgEventRenderer.prototype.computeEventTimeFormat = function () {\n        return {\n            hour: 'numeric',\n            minute: '2-digit',\n            omitZeroMinute: true\n        };\n    };\n    FgEventRenderer.prototype.computeDisplayEventTime = function () {\n        return true;\n    };\n    FgEventRenderer.prototype.computeDisplayEventEnd = function () {\n        return true;\n    };\n    // Utility for generating event skin-related CSS properties\n    FgEventRenderer.prototype.getSkinCss = function (ui) {\n        return {\n            'background-color': ui.backgroundColor,\n            'border-color': ui.borderColor,\n            color: ui.textColor\n        };\n    };\n    FgEventRenderer.prototype.sortEventSegs = function (segs) {\n        var specs = this.context.eventOrderSpecs;\n        var objs = segs.map(buildSegCompareObj);\n        objs.sort(function (obj0, obj1) {\n            return compareByFieldSpecs(obj0, obj1, specs);\n        });\n        return objs.map(function (c) {\n            return c._seg;\n        });\n    };\n    FgEventRenderer.prototype.computeSizes = function (force) {\n        if (force || this.isSizeDirty) {\n            this.computeSegSizes(this.segs);\n        }\n    };\n    FgEventRenderer.prototype.assignSizes = function (force) {\n        if (force || this.isSizeDirty) {\n            this.assignSegSizes(this.segs);\n            this.isSizeDirty = false;\n        }\n    };\n    FgEventRenderer.prototype.computeSegSizes = function (segs) {\n    };\n    FgEventRenderer.prototype.assignSegSizes = function (segs) {\n    };\n    // Manipulation on rendered segs\n    FgEventRenderer.prototype.hideByHash = function (hash) {\n        if (hash) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (hash[seg.eventRange.instance.instanceId]) {\n                    seg.el.style.visibility = 'hidden';\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.showByHash = function (hash) {\n        if (hash) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (hash[seg.eventRange.instance.instanceId]) {\n                    seg.el.style.visibility = '';\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.selectByInstanceId = function (instanceId) {\n        if (instanceId) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                var eventInstance = seg.eventRange.instance;\n                if (eventInstance && eventInstance.instanceId === instanceId &&\n                    seg.el // necessary?\n                ) {\n                    seg.el.classList.add('fc-selected');\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.unselectByInstanceId = function (instanceId) {\n        if (instanceId) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (seg.el) { // necessary?\n                    seg.el.classList.remove('fc-selected');\n                }\n            }\n        }\n    };\n    return FgEventRenderer;\n}());\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventDef = seg.eventRange.def;\n    var range = seg.eventRange.instance.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign({}, eventDef.extendedProps, eventDef, { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg // for later retrieval\n     });\n}\n\n/*\nTODO: when refactoring this class, make a new FillRenderer instance for each `type`\n*/\nvar FillRenderer = /** @class */ (function () {\n    function FillRenderer() {\n        this.fillSegTag = 'div';\n        this.dirtySizeFlags = {};\n        this.containerElsByType = {};\n        this.segsByType = {};\n    }\n    FillRenderer.prototype.getSegsByType = function (type) {\n        return this.segsByType[type] || [];\n    };\n    FillRenderer.prototype.renderSegs = function (type, context, segs) {\n        var _a;\n        this.context = context;\n        var renderedSegs = this.renderSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n        var containerEls = this.attachSegs(type, renderedSegs);\n        if (containerEls) {\n            (_a = (this.containerElsByType[type] || (this.containerElsByType[type] = []))).push.apply(_a, containerEls);\n        }\n        this.segsByType[type] = renderedSegs;\n        if (type === 'bgEvent') {\n            triggerRenderedSegs(context, renderedSegs, false); // isMirror=false\n        }\n        this.dirtySizeFlags[type] = true;\n    };\n    // Unrenders a specific type of fill that is currently rendered on the grid\n    FillRenderer.prototype.unrender = function (type, context) {\n        var segs = this.segsByType[type];\n        if (segs) {\n            if (type === 'bgEvent') {\n                triggerWillRemoveSegs(context, segs, false); // isMirror=false\n            }\n            this.detachSegs(type, segs);\n        }\n    };\n    // Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\n    // Only returns segments that successfully rendered.\n    FillRenderer.prototype.renderSegEls = function (type, segs) {\n        var _this = this;\n        var html = '';\n        var i;\n        if (segs.length) {\n            // build a large concatenation of segment HTML\n            for (i = 0; i < segs.length; i++) {\n                html += this.renderSegHtml(type, segs[i]);\n            }\n            // Grab individual elements from the combined HTML string. Use each as the default rendering.\n            // Then, compute the 'el' for each segment.\n            htmlToElements(html).forEach(function (el, i) {\n                var seg = segs[i];\n                if (el) {\n                    seg.el = el;\n                }\n            });\n            if (type === 'bgEvent') {\n                segs = filterSegsViaEls(this.context, segs, false // isMirror. background events can never be mirror elements\n                );\n            }\n            // correct element type? (would be bad if a non-TD were inserted into a table for example)\n            segs = segs.filter(function (seg) {\n                return elementMatches(seg.el, _this.fillSegTag);\n            });\n        }\n        return segs;\n    };\n    // Builds the HTML needed for one fill segment. Generic enough to work with different types.\n    FillRenderer.prototype.renderSegHtml = function (type, seg) {\n        var css = null;\n        var classNames = [];\n        if (type !== 'highlight' && type !== 'businessHours') {\n            css = {\n                'background-color': seg.eventRange.ui.backgroundColor\n            };\n        }\n        if (type !== 'highlight') {\n            classNames = classNames.concat(seg.eventRange.ui.classNames);\n        }\n        if (type === 'businessHours') {\n            classNames.push('fc-bgevent');\n        }\n        else {\n            classNames.push('fc-' + type.toLowerCase());\n        }\n        return '<' + this.fillSegTag +\n            (classNames.length ? ' class=\"' + classNames.join(' ') + '\"' : '') +\n            (css ? ' style=\"' + cssToStr(css) + '\"' : '') +\n            '></' + this.fillSegTag + '>';\n    };\n    FillRenderer.prototype.detachSegs = function (type, segs) {\n        var containerEls = this.containerElsByType[type];\n        if (containerEls) {\n            containerEls.forEach(removeElement);\n            delete this.containerElsByType[type];\n        }\n    };\n    FillRenderer.prototype.computeSizes = function (force) {\n        for (var type in this.segsByType) {\n            if (force || this.dirtySizeFlags[type]) {\n                this.computeSegSizes(this.segsByType[type]);\n            }\n        }\n    };\n    FillRenderer.prototype.assignSizes = function (force) {\n        for (var type in this.segsByType) {\n            if (force || this.dirtySizeFlags[type]) {\n                this.assignSegSizes(this.segsByType[type]);\n            }\n        }\n        this.dirtySizeFlags = {};\n    };\n    FillRenderer.prototype.computeSegSizes = function (segs) {\n    };\n    FillRenderer.prototype.assignSegSizes = function (segs) {\n    };\n    return FillRenderer;\n}());\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el) {\n        this.emitter = new EmitterMixin();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\nfunction formatDate(dateInput, settings) {\n    if (settings === void 0) { settings = {}; }\n    var dateEnv = buildDateEnv$1(settings);\n    var formatter = createFormatter(settings);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo\n    });\n}\nfunction formatRange(startInput, endInput, settings // mixture of env and formatter settings\n) {\n    var dateEnv = buildDateEnv$1(typeof settings === 'object' && settings ? settings : {}); // pass in if non-null object\n    var formatter = createFormatter(settings, globalDefaults.defaultRangeSeparator);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: settings.isEndExclusive\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', parseRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    // ensure required settings\n    settings = __assign({ timeZone: globalDefaults.timeZone, calendarSystem: 'gregory' }, settings, { locale: locale });\n    return new DateEnv(settings);\n}\n\nvar DRAG_META_PROPS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String\n};\nvar DRAG_META_DEFAULTS = {\n    create: true\n};\nfunction parseDragMeta(raw) {\n    var leftoverProps = {};\n    var refined = refineProps(raw, DRAG_META_PROPS, DRAG_META_DEFAULTS, leftoverProps);\n    refined.leftoverProps = leftoverProps;\n    return refined;\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return { weekday: 'short' }; // \"Sat\"\n    }\n    else if (dayCnt > 1) {\n        return { weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }; // \"Sat 11/12\"\n    }\n    else {\n        return { weekday: 'long' }; // \"Saturday\"\n    }\n}\nfunction renderDateCell(dateMarker, dateProfile, datesRepDistinctDays, colCnt, colHeadFormat, context, colspan, otherAttrs) {\n    var dateEnv = context.dateEnv, theme = context.theme, options = context.options;\n    var isDateValid = rangeContainsMarker(dateProfile.activeRange, dateMarker); // TODO: called too frequently. cache somehow.\n    var classNames = [\n        'fc-day-header',\n        theme.getClass('widgetHeader')\n    ];\n    var innerHtml;\n    if (typeof options.columnHeaderHtml === 'function') {\n        innerHtml = options.columnHeaderHtml(dateEnv.toDate(dateMarker));\n    }\n    else if (typeof options.columnHeaderText === 'function') {\n        innerHtml = htmlEscape(options.columnHeaderText(dateEnv.toDate(dateMarker)));\n    }\n    else {\n        innerHtml = htmlEscape(dateEnv.format(dateMarker, colHeadFormat));\n    }\n    // if only one row of days, the classNames on the header can represent the specific days beneath\n    if (datesRepDistinctDays) {\n        classNames = classNames.concat(\n        // includes the day-of-week class\n        // noThemeHighlight=true (don't highlight the header)\n        getDayClasses(dateMarker, dateProfile, context, true));\n    }\n    else {\n        classNames.push('fc-' + DAY_IDS[dateMarker.getUTCDay()]); // only add the day-of-week class\n    }\n    return '' +\n        '<th class=\"' + classNames.join(' ') + '\"' +\n        ((isDateValid && datesRepDistinctDays) ?\n            ' data-date=\"' + dateEnv.formatIso(dateMarker, { omitTime: true }) + '\"' :\n            '') +\n        (colspan > 1 ?\n            ' colspan=\"' + colspan + '\"' :\n            '') +\n        (otherAttrs ?\n            ' ' + otherAttrs :\n            '') +\n        '>' +\n        (isDateValid ?\n            // don't make a link if the heading could represent multiple days, or if there's only one day (forceOff)\n            buildGotoAnchorHtml(options, dateEnv, { date: dateMarker, forceOff: !datesRepDistinctDays || colCnt === 1 }, innerHtml) :\n            // if not valid, display text, but no link\n            innerHtml) +\n        '</th>';\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader(parentEl) {\n        var _this = _super.call(this) || this;\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.parentEl = parentEl;\n        return _this;\n    }\n    DayHeader.prototype.render = function (props, context) {\n        var dates = props.dates, datesRepDistinctDays = props.datesRepDistinctDays;\n        var parts = [];\n        this.renderSkeleton(context);\n        if (props.renderIntroHtml) {\n            parts.push(props.renderIntroHtml());\n        }\n        var colHeadFormat = createFormatter(context.options.columnHeaderFormat ||\n            computeFallbackHeaderFormat(datesRepDistinctDays, dates.length));\n        for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {\n            var date = dates_1[_i];\n            parts.push(renderDateCell(date, props.dateProfile, datesRepDistinctDays, dates.length, colHeadFormat, context));\n        }\n        if (context.isRtl) {\n            parts.reverse();\n        }\n        this.thead.innerHTML = '<tr>' + parts.join('') + '</tr>';\n    };\n    DayHeader.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderSkeleton.unrender();\n    };\n    DayHeader.prototype._renderSkeleton = function (context) {\n        var theme = context.theme;\n        var parentEl = this.parentEl;\n        parentEl.innerHTML = ''; // because might be nbsp\n        parentEl.appendChild(this.el = htmlToElement('<div class=\"fc-row ' + theme.getClass('headerRow') + '\">' +\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            '<thead></thead>' +\n            '</table>' +\n            '</div>'));\n        this.thead = this.el.querySelector('thead');\n    };\n    DayHeader.prototype._unrenderSkeleton = function () {\n        removeElement(this.el);\n    };\n    return DayHeader;\n}(Component));\n\nvar DaySeries = /** @class */ (function () {\n    function DaySeries(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex++;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeries.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeries.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        else if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        else {\n            return indices[dayOffset];\n        }\n    };\n    return DaySeries;\n}());\n\nvar DayTable = /** @class */ (function () {\n    function DayTable(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow++) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTable.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row++) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col++) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTable.prototype.buildCell = function (row, col) {\n        return {\n            date: this.daySeries.dates[row * this.colCnt + col]\n        };\n    };\n    DayTable.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col++) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTable.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTable;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, calendar, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, [props.eventStore, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, [props.dateSelection, eventUiBases, component].concat(extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, [props.businessHours, dateProfile, nextDayThreshold, calendar, component].concat(extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, [props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, [props.eventResize, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs)),\n            eventSelection: props.eventSelection\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, component) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, [{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            component].concat(extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, calendar, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, [expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), calendar),\n            {},\n            dateProfile,\n            nextDayThreshold,\n            component].concat(extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, component, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, component, extraArgs)\n            };\n        }\n        else {\n            return { bg: [], fg: [] };\n        }\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, component, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n            sourceSeg: interaction.origSeg\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, component) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, component.context.calendar);\n        var segs = this.sliceRange.apply(this, [dateSpan.range].concat(extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.component = component;\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, component, // TODO: kill\n    extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, component, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, component, // TODO: kill\n    extraArgs) {\n        var segs = this.sliceRange.apply(this, [eventRange.range].concat(extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.component = component;\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating minTime/maxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.minTime.milliseconds),\n        end: addMs(range.end, dateProfile.maxTime.milliseconds - 864e5) // 864e5 = ms in a day\n    };\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '4.4.2';\n\nexport { Calendar, Component, ComponentContext, DateComponent, DateEnv, DateProfileGenerator, DayHeader, DaySeries, DayTable, ElementDragging, ElementScrollController, EmitterMixin, EventApi, FgEventRenderer, FillRenderer, Interaction, Mixin, NamedTimeZoneImpl, PositionCache, ScrollComponent, ScrollController, Slicer, Splitter, Theme, View, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, appendToElement, applyAll, applyMutationToEventStore, applyStyle, applyStyleProp, asRoughMinutes, asRoughMs, asRoughSeconds, buildGotoAnchorHtml, buildSegCompareObj, capitaliseFirstLetter, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compensateScroll, computeClippingRect, computeEdges, computeEventDraggable, computeEventEndResizable, computeEventStartResizable, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeVisibleDayRange, config, constrainPoint, createDuration, createElement, createEmptyEventStore, createEventInstance, createFormatter, createPlugin, cssToStr, debounce, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, distributeHeight, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findChildren, findElements, flexibleCompare, forceClassName, formatDate, formatIsoTimeString, formatRange, getAllDayHtml, getClippingParents, getDayClasses, getElSeg, getRectCenter, getRelevantEvents, globalDefaults, greatestDurationDenominator, hasBgRendering, htmlEscape, htmlToElement, insertAfterElement, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isSingleDay, isValidDate, listenBySelector, mapHash, matchCellWidths, memoize, memoizeOutput, memoizeRendering, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, prependToElement, preventContextMenu, preventDefault, preventSelection, processScopedUiProps, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineProps, removeElement, removeExact, renderDateCell, requestJson, sliceEventStore, startOfDay, subtractInnerElHeight, translateRect, uncompensateScroll, undistributeHeight, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n"]}